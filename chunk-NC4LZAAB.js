import{a as W}from"./chunk-JUKI7UPX.js";import{a as k}from"./chunk-L7DWKR3J.js";import{a as I}from"./chunk-G5KA7DMQ.js";import{b as _}from"./chunk-KXU7AWJN.js";import{n as y}from"./chunk-XDVOVM47.js";import"./chunk-RDDNRQB3.js";import{Ab as i,Bb as l,Eb as b,Fb as w,Kb as h,Lb as u,Qa as E,Ta as s,Wb as r,Yb as n,Za as d,bc as g,cb as f,ha as p,ia as v,tb as x,ub as S,zb as e}from"./chunk-G3DW5CM7.js";var L=(m,o)=>o.id;function A(m,o){if(m&1){let t=b();e(0,"div",6)(1,"div",7)(2,"div",8),l(3,"img",9),i(),e(4,"div",10)(5,"h3",11),r(6),i(),e(7,"h5",11),r(8),i(),e(9,"p",12),r(10),i(),e(11,"p",13),r(12),i(),e(13,"p",13),r(14),i(),e(15,"p",13),r(16),i(),e(17,"p",13),r(18),i(),e(19,"div",14)(20,"button",15),h("click",function(){p(t);let c=u();return v(c.addToCart())}),l(21,"i",16),r(22," Add to Cart "),i(),e(23,"button",17),h("click",function(){let c=p(t).$implicit,C=u();return v(C.RemoveWishList(c.wishListId))}),l(24,"i",18),r(25,` Remove from Wishlist
`),i()()()()()}if(m&2){let t=o.$implicit;s(3),w("src",g("https://localhost:7054",t.images),E),s(3),n("Name: ",t.productName),s(2),n("Desc: ",t.productDescription),s(2),n("salary:",t.salary,"EGP"),s(2),n("priceAfterDiscount: ",t.priceAfterDiscount,"EGP"),s(2),n("discount: ",t.discount*100||"","%"),s(2),n("stock: ",t.stock),s(2),n("brand: ",t.brand)}}var T=class m{constructor(o,t,a,c){this.itemsService=o;this.auth=t;this.tostar=a;this.userService=c}items=[];currentUserId=0;ngOnInit(){let o="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier",t=this.auth.getAccessToken(),a=I(t);this.currentUserId=+a[o],this.itemsService.loadWishlistFromStorage(),this.itemsService.fetchAndStoreWishlist(this.currentUserId).subscribe(),this.itemsService.wishlistItems$.subscribe(c=>{this.items=c,console.log(this.items)})}addToCart(){}RemoveWishList(o){this.itemsService.removeFromWishlist(o).subscribe({next:()=>{this.tostar.success("\u062A\u0645 \u0627\u0644\u062D\u0630\u0641 \u0628\u0646\u062C\u0627\u062D")},error:()=>{this.tostar.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062D\u0630\u0641")}})}static \u0275fac=function(t){return new(t||m)(d(W),d(_),d(y),d(k))};static \u0275cmp=f({type:m,selectors:[["app-wish-list"]],decls:10,vars:0,consts:[[1,"container","my-5"],[1,"row","mb-4"],[1,"col-12","text-center"],[1,"display-5","fw-bold","text-primary"],[1,"lead","text-muted"],[1,"row","row-cols-1","row-cols-sm-5","row-cols-md-12","row-cols-lg-12","g-4"],[1,"col-12","col-sm-6","col-md-4"],[1,"card","h-100","shadow-sm","border-0","rounded-3"],[1,"position-relative"],["alt","Product Image",1,"card-img-top","p-2","rounded-3",3,"src"],[1,"card-body","d-flex","flex-column"],[1,"card-title","fw-bold"],[1,"card-text","fw-bold","fs-4","text-decoration-line-through"],[1,"card-text","fw-bold","fs-4"],[1,"mt-auto","d-grid","gap-2"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"fas","fa-shopping-cart","me-2"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-trash-alt","me-2"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),r(4,"Your Wishlist"),i(),e(5,"p",4),r(6," Your favorite items, all in one place. "),i()()(),e(7,"div",5),x(8,A,26,9,"div",6,L),i()()),t&2&&(s(8),S(a.items))},encapsulation:2})};export{T as WishList};
