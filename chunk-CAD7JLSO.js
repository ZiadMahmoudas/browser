import{a as C}from"./chunk-SZBUW7HL.js";import{a as y}from"./chunk-L7DWKR3J.js";import{e as S}from"./chunk-C345KUIT.js";import{n as D}from"./chunk-XDVOVM47.js";import"./chunk-RDDNRQB3.js";import{Ab as r,Eb as h,Kb as p,Lb as u,Ta as s,Wb as o,Xb as E,Yb as _,Za as l,cb as b,e as T,ha as m,ia as f,tb as v,ub as x,zb as i}from"./chunk-G3DW5CM7.js";var O=T(C());var w=(a,e)=>e.id;function I(a,e){if(a&1){let t=h();i(0,"tr")(1,"td"),o(2),r(),i(3,"td"),o(4),r(),i(5,"td"),o(6),r(),i(7,"td")(8,"div",3)(9,"button",4),p("click",function(){let d=m(t).$implicit,c=u();return f(c.Edit(d.id))}),o(10,"Edit"),r(),i(11,"button",5),p("click",function(){let d=m(t).$implicit,c=u();return f(c.Delete(d.id))}),o(12,"Delete"),r()()()()}if(a&2){let t=e.$implicit;s(2),E(t.title),s(2),_("",t.discount*100,"%"),s(2),E(t.endDate)}}var g=class a{constructor(e,t,n){this.dashboardService=e;this.router=t;this.tostar=n}offers=[];isEdit=!1;editProductId=0;ngOnInit(){this.GetAllOffers()}GetAllOffers(){this.dashboardService.getAllOffers().subscribe({next:e=>{this.offers=e},error:e=>{console.log(e)}})}Edit(e){this.router.navigate(["/Dashboard/Offer",e])}Delete(e){O.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062A\u062C\u061F \u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0639\u0645\u0644\u064A\u0629!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"\u0646\u0639\u0645\u060C \u0627\u062D\u0630\u0641\u0647!",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621"}).then(t=>{t.isConfirmed&&this.dashboardService.DeleteOffer(e).subscribe({next:n=>{console.log(n),this.tostar.success("Removed SuccessFully"),this.GetAllOffers()},error:n=>{console.log(n),this.tostar.error("Please Don't Deleted That because attached for product")}})})}static \u0275fac=function(t){return new(t||a)(l(y),l(S),l(D))};static \u0275cmp=b({type:a,selectors:[["app-display-offer"]],decls:14,vars:0,consts:[[1,"table","table-striped","table-hover","table-bordered","align-middle"],[1,"table-primary"],["scope","col"],[1,"d-flex","gap-3"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){t&1&&(i(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),o(4,"Title"),r(),i(5,"th",2),o(6,"Discount"),r(),i(7,"th",2),o(8,"End Date"),r(),i(9,"th",2),o(10,"Actions"),r()()(),i(11,"tbody"),v(12,I,13,3,"tr",null,w),r()()),t&2&&(s(12),x(n.offers))},encapsulation:2})};export{g as DisplayOffer};
