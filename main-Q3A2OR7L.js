import{a as vi,c as Ti,d as Ei,f as Si,h as bi,i as wi,t as Ci}from"./chunk-MHH2VTG2.js";import{a as Pi}from"./chunk-JUKI7UPX.js";import{a as Di}from"./chunk-L7DWKR3J.js";import{a as Ni}from"./chunk-XDAAUHTY.js";import{a as rt}from"./chunk-G5KA7DMQ.js";import{a as _i,b as ge}from"./chunk-KXU7AWJN.js";import{c as di,d as nt,e as pe,f as It,g as mi,h as pi,i as gi}from"./chunk-C345KUIT.js";import{a as yi,c as q,d as be,g as ki,h as Fn,k as Ge,l as Ft,m as gt,n as xt,o as Ai}from"./chunk-XDVOVM47.js";import{A as fi,e as Xr,f as Jr,j as ei,l as ti,m as ni,p as ri,q as ii,r as si,s as oi,t as ai,v as li,x as ci,y as ui,z as hi}from"./chunk-RDDNRQB3.js";import{$ as pt,$a as qr,$b as Wr,Aa as Nn,Ca as Hr,E as wn,Eb as On,G as jr,I as dt,Jb as qe,K as zr,Lb as Rt,Q as Cn,Qa as Kr,T as mt,Ta as le,W as $,Wb as te,Xa as Ur,Xb as Ot,Y as ce,Yb as In,Z as kn,Za as Se,Zb as Gr,_b as $r,a as Ne,aa as se,ac as Qr,b as Or,ba as ue,bc as Yr,c as Ir,cb as tt,da as Vr,db as Dn,dc as Ze,ha as An,hb as Ln,ia as Pn,jb as Ue,ka as Lt,kb as Zr,l as Fr,oa as Br,p as Re,q as Tn,r as Ke,rb as Mn,sb as Rn,t as En,ta as Mt,vb as De,wb as G,x as Sn,xb as X,y as bn,yb as he,z as xr}from"./chunk-G3DW5CM7.js";var yt=(r,t)=>{let e=ue(pe);return ue(ge).getAccessToken()?(e.navigate(["/Home"]),!1):!0};var jt=(r,t)=>{let e=ue(ge),n=ue(pe);return e.getAccessToken()?!0:(n.navigateByUrl("/login"),!1)};var Li=(r,t)=>{let e=ue(ge),n=ue(pe),i="http://schemas.microsoft.com/ws/2008/06/identity/claims/role",s=e.getAccessToken(),a=rt(s)[i],l=!0;return s?a==="Admin"||a==="Staff"?l:!l:(n.navigate(["/login"]),!1)};var Mi=[{path:"",pathMatch:"full",title:"Home",redirectTo:"Home"},{path:"signup",title:"signup",loadComponent:()=>import("./chunk-CQSIDNML.js").then(r=>r.Signup),canActivate:[yt],data:{description:"signup Page Hi Good"}},{path:"forgetPassword",title:"forgetPassword",loadComponent:()=>import("./chunk-HTMLESGN.js").then(r=>r.ForgetPassword),canActivate:[yt]},{path:"passwordReset",title:"passwordReset",loadComponent:()=>import("./chunk-KUNUL7W6.js").then(r=>r.ResetPassword),canActivate:[yt]},{path:"login",loadComponent:()=>import("./chunk-L7OQGE4S.js").then(r=>r.Login),title:"login",canActivate:[yt],data:{description:"login Page Hi Bye"}},{path:"view/:id",title:"VIEW_PRODUCT",loadComponent:()=>import("./chunk-BETXYUSP.js").then(r=>r.View),canActivate:[jt]},{path:"Home",title:"Home",loadComponent:()=>import("./chunk-3I4AAYON.js").then(r=>r.Home)},{path:"Cart",title:"Cart",loadComponent:()=>import("./chunk-3WZKZTTW.js").then(r=>r.Cart)},{path:"Order",title:"Order",loadComponent:()=>import("./chunk-ZVGMMC5E.js").then(r=>r.Order)},{path:"checkout",title:"checkout",loadComponent:()=>import("./chunk-YRY7AV6W.js").then(r=>r.Checkout),canActivate:[jt]},{path:"Dashboard",title:"Dashboard",loadComponent:()=>import("./chunk-K63FVFK2.js").then(r=>r.Dashboard),canMatch:[Li],children:[{path:"users",title:"users",loadComponent:()=>import("./chunk-HV53QXNZ.js").then(r=>r.Users)},{path:"Product",title:"Product",loadComponent:()=>import("./chunk-WFFWTJX4.js").then(r=>r.Product)},{path:"Admin",title:"Admin",loadComponent:()=>import("./chunk-IFVA4IUN.js").then(r=>r.AddAdmin)},{path:"Staff",title:"Staff",loadComponent:()=>import("./chunk-6YZ24MNH.js").then(r=>r.Staff)},{path:"Offer",title:"Offer",loadComponent:()=>import("./chunk-F6L2CNBS.js").then(r=>r.Offer)},{path:"displayOffer",title:"displayOffer",loadComponent:()=>import("./chunk-CAD7JLSO.js").then(r=>r.DisplayOffer)},{path:"product/:id",title:"Edit Product",loadComponent:()=>import("./chunk-WFFWTJX4.js").then(r=>r.Product)},{path:"Offer/:id",title:"Edit Offer",loadComponent:()=>import("./chunk-F6L2CNBS.js").then(r=>r.Offer)}]},{path:"WishList",title:"WishList",loadComponent:()=>import("./chunk-NC4LZAAB.js").then(r=>r.WishList),canActivate:[jt]},{path:"**",title:"404",loadComponent:()=>import("./chunk-XLU35SMD.js").then(r=>r.Notfound)}];function Ri(r){return new $(3e3,!1)}function ao(){return new $(3100,!1)}function lo(){return new $(3101,!1)}function co(r){return new $(3001,!1)}function uo(r){return new $(3003,!1)}function ho(r){return new $(3004,!1)}function Ii(r,t){return new $(3005,!1)}function Fi(){return new $(3006,!1)}function xi(){return new $(3007,!1)}function ji(r,t){return new $(3008,!1)}function zi(r){return new $(3002,!1)}function Vi(r,t,e,n,i){return new $(3010,!1)}function Bi(){return new $(3011,!1)}function Hi(){return new $(3012,!1)}function Ki(){return new $(3200,!1)}function Ui(){return new $(3202,!1)}function qi(){return new $(3013,!1)}function Zi(r){return new $(3014,!1)}function Gi(r){return new $(3015,!1)}function $i(r){return new $(3016,!1)}function Wi(r,t){return new $(3404,!1)}function fo(r){return new $(3502,!1)}function Qi(r){return new $(3503,!1)}function Yi(){return new $(3300,!1)}function Xi(r){return new $(3504,!1)}function Ji(r){return new $(3301,!1)}function es(r,t){return new $(3302,!1)}function ts(r){return new $(3303,!1)}function ns(r,t){return new $(3400,!1)}function rs(r){return new $(3401,!1)}function is(r){return new $(3402,!1)}function ss(r,t){return new $(3505,!1)}function Oe(r){switch(r.length){case 0:return new Ge;case 1:return r[0];default:return new Ft(r)}}function Vn(r,t,e=new Map,n=new Map){let i=[],s=[],o=-1,a=null;if(t.forEach(l=>{let h=l.get("offset"),d=h==o,m=d&&a||new Map;l.forEach((S,w)=>{let E=w,A=S;if(w!=="offset")switch(E=r.normalizePropertyName(E,i),A){case gt:A=e.get(w);break;case be:A=n.get(w);break;default:A=r.normalizeStyleValue(w,E,A,i);break}m.set(E,A)}),d||s.push(m),a=m,o=h}),i.length)throw fo(i);return s}function zt(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&xn(e,"start",r)));break;case"done":r.onDone(()=>n(e&&xn(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&xn(e,"destroy",r)));break}}function xn(r,t,e){let n=e.totalTime,i=!!e.disabled,s=Vt(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,n??r.totalTime,i),o=r._data;return o!=null&&(s._data=o),s}function Vt(r,t,e,n,i="",s=0,o){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:s,disabled:!!o}}function fe(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function Bn(r){let t=r.indexOf(":"),e=r.substring(1,t),n=r.slice(t+1);return[e,n]}var mo=typeof document>"u"?null:document.documentElement;function Bt(r){let t=r.parentNode||r.host||null;return t===mo?null:t}function po(r){return r.substring(1,6)=="ebkit"}var $e=null,Oi=!1;function os(r){$e||($e=go()||{},Oi=$e.style?"WebkitAppearance"in $e.style:!1);let t=!0;return $e.style&&!po(r)&&(t=r in $e.style,!t&&Oi&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in $e.style)),t}function go(){return typeof document<"u"?document.body:null}function Hn(r,t){for(;t;){if(t===r)return!0;t=Bt(t)}return!1}function Kn(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let n=r.querySelector(t);return n?[n]:[]}var yo=1e3,Un="{{",_o="}}",qn="ng-enter",Ht="ng-leave",_t="ng-trigger",vt=".ng-trigger",Zn="ng-animating",Kt=".ng-animating";function Le(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:jn(parseFloat(t[1]),t[2])}function jn(r,t){switch(t){case"s":return r*yo;default:return r}}function Tt(r,t,e){return r.hasOwnProperty("duration")?r:vo(r,t,e)}function vo(r,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof r=="string"){let a=r.match(n);if(a===null)return t.push(Ri(r)),{duration:0,delay:0,easing:""};i=jn(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=jn(parseFloat(l),a[4]));let h=a[5];h&&(o=h)}else i=r;if(!e){let a=!1,l=t.length;i<0&&(t.push(ao()),a=!0),s<0&&(t.push(lo()),a=!0),a&&t.splice(l,0,Ri(r))}return{duration:i,delay:s,easing:o}}function as(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function we(r,t,e){t.forEach((n,i)=>{let s=Ut(i);e&&!e.has(i)&&e.set(i,r.style[s]),r.style[s]=n})}function Ve(r,t){t.forEach((e,n)=>{let i=Ut(n);r.style[i]=""})}function it(r){return Array.isArray(r)?r.length==1?r[0]:ki(r):r}function ls(r,t,e){let n=t.params||{},i=Gn(r);i.length&&i.forEach(s=>{n.hasOwnProperty(s)||e.push(co(s))})}var zn=new RegExp(`${Un}\\s*(.+?)\\s*${_o}`,"g");function Gn(r){let t=[];if(typeof r=="string"){let e;for(;e=zn.exec(r);)t.push(e[1]);zn.lastIndex=0}return t}function st(r,t,e){let n=`${r}`,i=n.replace(zn,(s,o)=>{let a=t[o];return a==null&&(e.push(uo(o)),a=""),a.toString()});return i==n?r:i}var To=/-+([a-z0-9])/g;function Ut(r){return r.replace(To,(...t)=>t[1].toUpperCase())}function cs(r,t){return r===0||t===0}function us(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((s,o)=>{n.has(o)||i.push(o),n.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,qt(r,a)))}}return t}function de(r,t,e){switch(t.type){case q.Trigger:return r.visitTrigger(t,e);case q.State:return r.visitState(t,e);case q.Transition:return r.visitTransition(t,e);case q.Sequence:return r.visitSequence(t,e);case q.Group:return r.visitGroup(t,e);case q.Animate:return r.visitAnimate(t,e);case q.Keyframes:return r.visitKeyframes(t,e);case q.Style:return r.visitStyle(t,e);case q.Reference:return r.visitReference(t,e);case q.AnimateChild:return r.visitAnimateChild(t,e);case q.AnimateRef:return r.visitAnimateRef(t,e);case q.Query:return r.visitQuery(t,e);case q.Stagger:return r.visitStagger(t,e);default:throw ho(t.type)}}function qt(r,t){return window.getComputedStyle(r)[t]}var ur=(()=>{class r{validateStyleProperty(e){return os(e)}containsElement(e,n){return Hn(e,n)}getParentElement(e){return Bt(e)}query(e,n,i){return Kn(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,s,o,a=[],l){return new Ge(i,s)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})(),Qe=class{static NOOP=new ur},Ye=class{};var Eo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Qt=class extends Ye{normalizePropertyName(t,e){return Ut(t)}normalizeStyleValue(t,e,n,i){let s="",o=n.toString().trim();if(Eo.has(e)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Ii(t,n))}return o+s}};var Yt="*";function So(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>bo(n,e,t)):e.push(r),e}function bo(r,t,e){if(r[0]==":"){let l=wo(r,e);if(typeof l=="function"){t.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(Gi(r)),t;let i=n[1],s=n[2],o=n[3];t.push(hs(i,o));let a=i==Yt&&o==Yt;s[0]=="<"&&!a&&t.push(hs(o,i))}function wo(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push($i(r)),"* => *"}}var Zt=new Set(["true","1"]),Gt=new Set(["false","0"]);function hs(r,t){let e=Zt.has(r)||Gt.has(r),n=Zt.has(t)||Gt.has(t);return(i,s)=>{let o=r==Yt||r==i,a=t==Yt||t==s;return!o&&e&&typeof i=="boolean"&&(o=i?Zt.has(r):Gt.has(r)),!a&&n&&typeof s=="boolean"&&(a=s?Zt.has(t):Gt.has(t)),o&&a}}var Es=":self",Co=new RegExp(`s*${Es}s*,?`,"g");function Ss(r,t,e,n){return new Jn(r).build(t,e,n)}var fs="",Jn=class{_driver;constructor(t){this._driver=t}build(t,e,n){let i=new er(e);return this._resetContextStyleTimingState(i),de(this,it(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=fs,t.collectedStyles=new Map,t.collectedStyles.set(fs,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Fi()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==q.State){let l=a,h=l.name;h.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,e))}),l.name=h}else if(a.type==q.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(xi())}),{type:q.Trigger,name:t.name,states:s,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Gn(l).forEach(h=>{o.hasOwnProperty(h)||s.add(h)})})}),s.size&&e.errors.push(ji(t.name,[...s.values()]))}return{type:q.State,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=de(this,it(t.animation),e),i=So(t.expr,e.errors);return{type:q.Transition,matchers:i,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:We(t.options)}}visitSequence(t,e){return{type:q.Sequence,steps:t.steps.map(n=>de(this,n,e)),options:We(t.options)}}visitGroup(t,e){let n=e.currentTime,i=0,s=t.steps.map(o=>{e.currentTime=n;let a=de(this,o,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:q.Group,steps:s,options:We(t.options)}}visitAnimate(t,e){let n=No(t.timings,e.errors);e.currentAnimateTimings=n;let i,s=t.styles?t.styles:Fn({});if(s.type==q.Keyframes)i=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let h={};n.easing&&(h.easing=n.easing),o=Fn(h)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:q.Animate,timings:n,style:i,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===be?n.push(a):e.errors.push(zi(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Un)>=0){s=!0;break}}}),{type:q.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,i=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let h=e.collectedStyles.get(e.currentQuerySelector),d=h.get(l),m=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(e.errors.push(Vi(l,d.startTime,d.endTime,s,i)),m=!1),s=d.startTime),m&&h.set(l,{startTime:s,endTime:i}),e.options&&ls(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:q.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Bi()),n;let i=1,s=0,o=[],a=!1,l=!1,h=0,d=t.steps.map(V=>{let C=this._makeStyleAst(V,e),T=C.offset!=null?C.offset:Po(C.styles),M=0;return T!=null&&(s++,M=C.offset=T),l=l||M<0||M>1,a=a||M<h,h=M,o.push(M),C});l&&e.errors.push(Hi()),a&&e.errors.push(Ki());let m=t.steps.length,S=0;s>0&&s<m?e.errors.push(Ui()):s==0&&(S=i/(m-1));let w=m-1,E=e.currentTime,A=e.currentAnimateTimings,z=A.duration;return d.forEach((V,C)=>{let T=S>0?C==w?1:S*C:o[C],M=T*z;e.currentTime=E+A.delay+M,A.duration=M,this._validateStyleAst(V,e),V.offset=T,n.styles.push(V)}),n}visitReference(t,e){return{type:q.Reference,animation:de(this,it(t.animation),e),options:We(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:q.AnimateChild,options:We(t.options)}}visitAnimateRef(t,e){return{type:q.AnimateRef,animation:this.visitReference(t.animation,e),options:We(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=ko(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,fe(e.collectedStyles,e.currentQuerySelector,new Map);let a=de(this,it(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:q.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:We(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(qi());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Tt(t.timings,e.errors,!0);return{type:q.Stagger,animation:de(this,it(t.animation),e),timings:n,options:null}}};function ko(r){let t=!!r.split(/\s*,\s*/).find(e=>e==Es);return t&&(r=r.replace(Co,"")),r=r.replace(/@\*/g,vt).replace(/@\w+/g,e=>vt+"-"+e.slice(1)).replace(/:animating/g,Kt),[r,t]}function Ao(r){return r?Ne({},r):null}var er=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Po(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function No(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let s=Tt(r,t).duration;return $n(s,0,"")}let e=r;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=$n(0,0,"");return s.dynamic=!0,s.strValue=e,s}let i=Tt(e,t);return $n(i.duration,i.delay,i.easing)}function We(r){return r?(r=Ne({},r),r.params&&(r.params=Ao(r.params))):r={},r}function $n(r,t,e){return{duration:r,delay:t,easing:e}}function hr(r,t,e,n,i,s,o=null,a=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var St=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Do=1,Lo=":enter",Mo=new RegExp(Lo,"g"),Ro=":leave",Oo=new RegExp(Ro,"g");function bs(r,t,e,n,i,s=new Map,o=new Map,a,l,h=[]){return new tr().buildKeyframes(r,t,e,n,i,s,o,a,l,h)}var tr=class{buildKeyframes(t,e,n,i,s,o,a,l,h,d=[]){h=h||new St;let m=new nr(t,e,h,i,s,d,[]);m.options=l;let S=l.delay?Le(l.delay):0;m.currentTimeline.delayNextStep(S),m.currentTimeline.setStyles([o],null,m.errors,l),de(this,n,m);let w=m.timelines.filter(E=>E.containsAnimation());if(w.length&&a.size){let E;for(let A=w.length-1;A>=0;A--){let z=w[A];if(z.element===e){E=z;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,m.errors,l)}return w.length?w.map(E=>E.buildKeyframes()):[hr(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let i of t){let s=i?.delay;if(s){let o=typeof s=="number"?s:Le(st(s,i?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime,o=n.duration!=null?Le(n.duration):null,a=n.delay!=null?Le(n.delay):null;return o!==0&&t.forEach(l=>{let h=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,h.duration+h.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),de(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,i=e,s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==q.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Xt);let o=Le(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>de(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],i=e.currentTimeline.currentTime,s=t.options&&t.options.delay?Le(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),de(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,i=e.params?st(n,e.params,e.errors):n;return Tt(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());let s=t.style;s.type==q.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,i=e.currentTimeline.duration,s=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let h=l.offset||0;a.forwardTime(h*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?Le(i.delay):0;s&&(e.previousNode.type===q.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Xt);let o=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((h,d)=>{e.currentQueryIndex=d;let m=e.createSubContext(t.options,h);s&&m.delayNextStep(s),h===e.element&&(l=m.currentTimeline),de(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe();let S=m.currentTimeline.currentTime;o=Math.max(o,S)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let m=d.currentTime;de(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-m+(i.startTime-n.currentTimeline.startTime)}},Xt={},nr=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Xt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,i,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new Jt(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=Le(n.duration)),n.delay!=null&&(i.delay=Le(n.delay));let s=n.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=st(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){let i=e||this.element,s=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Xt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new rr(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(Mo,"."+this._enterClassName),t=t.replace(Oo,"."+this._leaveClassName);let l=n!=1,h=this._driver.query(this.element,t,l);n!==0&&(h=n<0?h.slice(h.length+n,h.length):h.slice(0,n)),a.push(...h)}return!s&&a.length==0&&o.push(Zi(e)),a}},Jt=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Do,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||be),this._currentKeyframe.set(e,be);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);let s=i&&i.params||{},o=Io(t,this._globalTimelineStyles);for(let[a,l]of o){let h=st(l,s,n);this._pendingStyles.set(a,h),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??be),this._updateStyle(a,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let h=new Map([...this._backFill,...a]);h.forEach((d,m)=>{d===gt?t.add(m):d===be&&e.add(m)}),n||h.set("offset",l/this.duration),i.push(h)});let s=[...t.values()],o=[...e.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return hr(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},rr=class extends Jt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,i,s,o,a=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=n+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let h=new Map(t[0]);h.set("offset",ds(a)),s.push(h);let d=t.length-1;for(let m=1;m<=d;m++){let S=new Map(t[m]),w=S.get("offset"),E=e+w*n;S.set("offset",ds(E/o)),s.push(S)}n=o,e=0,i="",t=s}return hr(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}};function ds(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function Io(r,t){let e=new Map,n;return r.forEach(i=>{if(i==="*"){n??=t.keys();for(let s of n)e.set(s,be)}else for(let[s,o]of i)e.set(s,o)}),e}function ms(r,t,e,n,i,s,o,a,l,h,d,m,S){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:d,totalTime:m,errors:S}}var Wn={},en=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return Fo(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,s,o,a,l,h,d){let m=[],S=this.ast.options&&this.ast.options.params||Wn,w=a&&a.params||Wn,E=this.buildStyles(n,w,m),A=l&&l.params||Wn,z=this.buildStyles(i,A,m),V=new Set,C=new Map,T=new Map,M=i==="void",Z={params:ws(A,S),delay:this.ast.options?.delay},W=d?[]:bs(t,e,this.ast.animation,s,o,E,z,Z,h,m),j=0;return W.forEach(k=>{j=Math.max(k.duration+k.delay,j)}),m.length?ms(e,this._triggerName,n,i,M,E,z,[],[],C,T,j,m):(W.forEach(k=>{let Q=k.element,O=fe(C,Q,new Set);k.preStyleProps.forEach(P=>O.add(P));let R=fe(T,Q,new Set);k.postStyleProps.forEach(P=>R.add(P)),Q!==e&&V.add(Q)}),ms(e,this._triggerName,n,i,M,E,z,W,[...V.values()],C,T,j))}};function Fo(r,t,e,n,i){return r.some(s=>s(t,e,n,i))}function ws(r,t){let e=Ne({},t);return Object.entries(r).forEach(([n,i])=>{i!=null&&(e[n]=i)}),e}var ir=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,i=ws(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=st(o,i,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),n.set(a,o)})}),n}};function xo(r,t,e){return new sr(r,t,e)}var sr=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new ir(i.style,s,n))}),ps(this.states,"true","1"),ps(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new en(t,i,this.states))}),this.fallbackTransition=jo(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(o=>o.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function jo(r,t,e){let n=[(o,a)=>!0],i={type:q.Sequence,steps:[],options:null},s={type:q.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new en(r,s,t)}function ps(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var zo=new St,or=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],i=[],s=Ss(this._driver,e,n,i);if(n.length)throw Qi(n);this._animations.set(t,s)}_buildPlayer(t,e,n){let i=t.element,s=Vn(this._normalizer,t.keyframes,e,n);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let i=[],s=this._animations.get(t),o,a=new Map;if(s?(o=bs(this._driver,e,s,qn,Ht,new Map,new Map,n,zo,i),o.forEach(d=>{let m=fe(a,d.element,new Map);d.postStyleProps.forEach(S=>m.set(S,null))})):(i.push(Yi()),o=[]),i.length)throw Xi(i);a.forEach((d,m)=>{d.forEach((S,w)=>{d.set(w,this._driver.computeStyle(m,w,be))})});let l=o.map(d=>{let m=a.get(d.element);return this._buildPlayer(d,new Map,m)}),h=Oe(l);return this._playersById.set(t,h),h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Ji(t);return e}listen(t,e,n,i){let s=Vt(e,"","","");return zt(this._getPlayer(t),n,s,i),()=>{}}command(t,e,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let o=i[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},gs="ng-animate-queued",Vo=".ng-animate-queued",Qn="ng-animate-disabled",Bo=".ng-animate-disabled",Ho="ng-star-inserted",Ko=".ng-star-inserted",Uo=[],Cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ce="__ng_removed",bt=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=Go(i),n){let s=t,{value:o}=s,a=Ir(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(i=>{n[i]==null&&(n[i]=e[i])})}}},Et="void",Yn=new bt(Et),ar=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,ye(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw es(n,e);if(n==null||n.length==0)throw ts(e);if(!$o(n))throw ns(n,e);let s=fe(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);let a=fe(this._engine.statesByElement,t,new Map);return a.has(e)||(ye(t,_t),ye(t,_t+"-"+e),a.set(e,Yn)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw rs(t);return e}trigger(t,e,n,i=!0){let s=this._getTrigger(e),o=new wt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(ye(t,_t),ye(t,_t+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),h=new bt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),a.set(e,h),l||(l=Yn),!(h.value===Et)&&l.value===h.value){if(!Yo(l.params,h.params)){let A=[],z=s.matchStyles(l.value,l.params,A),V=s.matchStyles(h.value,h.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Ve(t,z),we(t,V)})}return}let S=fe(this._engine.playersByElement,t,[]);S.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let w=s.matchTransition(l.value,h.value,t,h.params),E=!1;if(!w){if(!i)return;w=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:w,fromState:l,toState:h,player:o,isFallbackTransition:E}),E||(ye(t,gs),o.onStart(()=>{ot(t,gs)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let z=this._engine.playersByElement.get(t);if(z){let V=z.indexOf(o);V>=0&&z.splice(V,1)}}),this.players.push(o),S.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,vt,!0);n.forEach(i=>{if(i[Ce])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,h)=>{if(o.set(h,l.value),this._triggers.has(h)){let d=this.trigger(t,h,Et,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&Oe(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let i=new Set;e.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,h=n.get(o)||Yn,d=new bt(Et),m=new wt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:h,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{let s=t[Ce];(!s||s===Cs)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ye(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=Vt(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,zt(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{let s=n.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},lr=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new ar(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let h=n.indexOf(l);n.splice(h+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}}return e}trigger(t,e,n,i){if($t(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!$t(e))return;let s=e[Ce];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ye(t,Qn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ot(t,Qn))}removeNode(t,e,n){if($t(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,i,s){this.collectedLeaveElements.push(e),e[Ce]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,i,s){return $t(e)?this._fetchNamespace(t).listen(e,n,i,s):()=>{}}_buildInstruction(t,e,n,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,vt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Kt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Oe(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ce];if(e&&e.setForRemoval){if(t[Ce]=Cs,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Qn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Bo,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];ye(i,Ho)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Oe(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw is(t)}_flushAnimations(t,e){let n=new St,i=[],s=new Map,o=[],a=new Map,l=new Map,h=new Map,d=new Set;this.disabledNodes.forEach(g=>{d.add(g);let p=this.driver.query(g,Vo,!0);for(let c=0;c<p.length;c++)d.add(p[c])});let m=this.bodyNode,S=Array.from(this.statesByElement.keys()),w=vs(S,this.collectedEnterElements),E=new Map,A=0;w.forEach((g,p)=>{let c=qn+A++;E.set(p,c),g.forEach(u=>ye(u,c))});let z=[],V=new Set,C=new Set;for(let g=0;g<this.collectedLeaveElements.length;g++){let p=this.collectedLeaveElements[g],c=p[Ce];c&&c.setForRemoval&&(z.push(p),V.add(p),c.hasAnimation?this.driver.query(p,Ko,!0).forEach(u=>V.add(u)):C.add(p))}let T=new Map,M=vs(S,Array.from(V));M.forEach((g,p)=>{let c=Ht+A++;T.set(p,c),g.forEach(u=>ye(u,c))}),t.push(()=>{w.forEach((g,p)=>{let c=E.get(p);g.forEach(u=>ot(u,c))}),M.forEach((g,p)=>{let c=T.get(p);g.forEach(u=>ot(u,c))}),z.forEach(g=>{this.processLeaveNode(g)})});let Z=[],W=[];for(let g=this._namespaceList.length-1;g>=0;g--)this._namespaceList[g].drainQueuedTransitions(e).forEach(c=>{let u=c.player,b=c.element;if(Z.push(u),this.collectedEnterElements.length){let ee=b[Ce];if(ee&&ee.setForMove){if(ee.previousTriggersValues&&ee.previousTriggersValues.has(c.triggerName)){let _=ee.previousTriggersValues.get(c.triggerName),y=this.statesByElement.get(c.element);if(y&&y.has(c.triggerName)){let f=y.get(c.triggerName);f.value=_,y.set(c.triggerName,f)}}u.destroy();return}}let N=!m||!this.driver.containsElement(m,b),U=T.get(b),x=E.get(b),Y=this._buildInstruction(c,n,x,U,N);if(Y.errors&&Y.errors.length){W.push(Y);return}if(N){u.onStart(()=>Ve(b,Y.fromStyles)),u.onDestroy(()=>we(b,Y.toStyles)),i.push(u);return}if(c.isFallbackTransition){u.onStart(()=>Ve(b,Y.fromStyles)),u.onDestroy(()=>we(b,Y.toStyles)),i.push(u);return}let me=[];Y.timelines.forEach(ee=>{ee.stretchStartingKeyframe=!0,this.disabledNodes.has(ee.element)||me.push(ee)}),Y.timelines=me,n.append(b,Y.timelines);let Te={instruction:Y,player:u,element:b};o.push(Te),Y.queriedElements.forEach(ee=>fe(a,ee,[]).push(u)),Y.preStyleProps.forEach((ee,_)=>{if(ee.size){let y=l.get(_);y||l.set(_,y=new Set),ee.forEach((f,v)=>y.add(v))}}),Y.postStyleProps.forEach((ee,_)=>{let y=h.get(_);y||h.set(_,y=new Set),ee.forEach((f,v)=>y.add(v))})});if(W.length){let g=[];W.forEach(p=>{g.push(ss(p.triggerName,p.errors))}),Z.forEach(p=>p.destroy()),this.reportError(g)}let j=new Map,k=new Map;o.forEach(g=>{let p=g.element;n.has(p)&&(k.set(p,p),this._beforeAnimationBuild(g.player.namespaceId,g.instruction,j))}),i.forEach(g=>{let p=g.element;this._getPreviousPlayers(p,!1,g.namespaceId,g.triggerName,null).forEach(u=>{fe(j,p,[]).push(u),u.destroy()})});let Q=z.filter(g=>Ts(g,l,h)),O=new Map;_s(O,this.driver,C,h,be).forEach(g=>{Ts(g,l,h)&&Q.push(g)});let P=new Map;w.forEach((g,p)=>{_s(P,this.driver,new Set(g),l,gt)}),Q.forEach(g=>{let p=O.get(g),c=P.get(g);O.set(g,new Map([...p?.entries()??[],...c?.entries()??[]]))});let I=[],ae=[],ie={};o.forEach(g=>{let{element:p,player:c,instruction:u}=g;if(n.has(p)){if(d.has(p)){c.onDestroy(()=>we(p,u.toStyles)),c.disabled=!0,c.overrideTotalTime(u.totalTime),i.push(c);return}let b=ie;if(k.size>1){let U=p,x=[];for(;U=U.parentNode;){let Y=k.get(U);if(Y){b=Y;break}x.push(U)}x.forEach(Y=>k.set(Y,b))}let N=this._buildAnimation(c.namespaceId,u,j,s,P,O);if(c.setRealPlayer(N),b===ie)I.push(c);else{let U=this.playersByElement.get(b);U&&U.length&&(c.parentPlayer=Oe(U)),i.push(c)}}else Ve(p,u.fromStyles),c.onDestroy(()=>we(p,u.toStyles)),ae.push(c),d.has(p)&&i.push(c)}),ae.forEach(g=>{let p=s.get(g.element);if(p&&p.length){let c=Oe(p);g.setRealPlayer(c)}}),i.forEach(g=>{g.parentPlayer?g.syncPlayerEvents(g.parentPlayer):g.destroy()});for(let g=0;g<z.length;g++){let p=z[g],c=p[Ce];if(ot(p,Ht),c&&c.hasAnimation)continue;let u=[];if(a.size){let N=a.get(p);N&&N.length&&u.push(...N);let U=this.driver.query(p,Kt,!0);for(let x=0;x<U.length;x++){let Y=a.get(U[x]);Y&&Y.length&&u.push(...Y)}}let b=u.filter(N=>!N.destroyed);b.length?Wo(this,p,b):this.processLeaveNode(p)}return z.length=0,I.forEach(g=>{this.players.push(g),g.onDone(()=>{g.destroy();let p=this.players.indexOf(g);this.players.splice(p,1)}),g.play()}),I}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==Et;a.forEach(h=>{h.queued||!l&&h.triggerName!=i||o.push(h)})}}return(n||i)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,e,n){let i=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let h=l.element,d=h!==s,m=fe(n,h,[]);this._getPreviousPlayers(h,d,o,a,e.toState).forEach(w=>{let E=w.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),w.destroy(),m.push(w)})}Ve(s,e.fromStyles)}_buildAnimation(t,e,n,i,s,o){let a=e.triggerName,l=e.element,h=[],d=new Set,m=new Set,S=e.timelines.map(E=>{let A=E.element;d.add(A);let z=A[Ce];if(z&&z.removedBeforeQueried)return new Ge(E.duration,E.delay);let V=A!==l,C=Qo((n.get(A)||Uo).map(j=>j.getRealPlayer())).filter(j=>{let k=j;return k.element?k.element===A:!1}),T=s.get(A),M=o.get(A),Z=Vn(this._normalizer,E.keyframes,T,M),W=this._buildPlayer(E,Z,C);if(E.subTimeline&&i&&m.add(A),V){let j=new wt(t,a,A);j.setRealPlayer(W),h.push(j)}return W});h.forEach(E=>{fe(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>Zo(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>ye(E,Zn));let w=Oe(S);return w.onDestroy(()=>{d.forEach(E=>ot(E,Zn)),we(l,e.toStyles)}),m.forEach(E=>{fe(i,E,[]).push(w)}),w}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ge(t.duration,t.delay)}},wt=class{namespaceId;triggerName;element;_player=new Ge;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>zt(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Zo(r,t,e){let n=r.get(t);if(n){if(n.length){let i=n.indexOf(e);n.splice(i,1)}n.length==0&&r.delete(t)}return n}function Go(r){return r??null}function $t(r){return r&&r.nodeType===1}function $o(r){return r=="start"||r=="done"}function ys(r,t){let e=r.style.display;return r.style.display=t??"none",e}function _s(r,t,e,n,i){let s=[];e.forEach(l=>s.push(ys(l)));let o=[];n.forEach((l,h)=>{let d=new Map;l.forEach(m=>{let S=t.computeStyle(h,m,i);d.set(m,S),(!S||S.length==0)&&(h[Ce]=qo,o.push(h))}),r.set(h,d)});let a=0;return e.forEach(l=>ys(l,s[a++])),o}function vs(r,t){let e=new Map;if(r.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,i=new Set(t),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let h=a.parentNode;return e.has(h)?l=h:i.has(h)?l=n:l=o(h),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==n&&e.get(l).push(a)}),e}function ye(r,t){r.classList?.add(t)}function ot(r,t){r.classList?.remove(t)}function Wo(r,t,e){Oe(e).onDone(()=>r.processLeaveNode(t))}function Qo(r){let t=[];return ks(r,t),t}function ks(r,t){for(let e=0;e<r.length;e++){let n=r[e];n instanceof Ft?ks(n.players,t):t.push(n)}}function Yo(r,t){let e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let s=e[i];if(!t.hasOwnProperty(s)||r[s]!==t[s])return!1}return!0}function Ts(r,t,e){let n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(s=>i.add(s)):t.set(r,n),e.delete(r),!0}var at=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new lr(t.body,e,n),this._timelineEngine=new or(t.body,e,n),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,n,i,s){let o=t+"-"+i,a=this._triggerCache[o];if(!a){let l=[],h=[],d=Ss(this._driver,s,l,h);if(l.length)throw Wi(i,l);a=xo(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if(n.charAt(0)=="@"){let[s,o]=Bn(n),a=i;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,s){if(n.charAt(0)=="@"){let[o,a]=Bn(n);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,n,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Xo(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=Xn(t[0]),t.length>1&&(n=Xn(t[t.length-1]))):t instanceof Map&&(e=Xn(t)),e||n?new Jo(r,e,n):null}var Jo=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i;let s=r.initialStylesByElement.get(e);s||r.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&we(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(we(this._element,this._initialStyles),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ve(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),we(this._element,this._initialStyles),this._state=3)}}return r})();function Xn(r){let t=null;return r.forEach((e,n)=>{ea(n)&&(t=t||new Map,t.set(n,e))}),t}function ea(r){return r==="display"||r==="position"}var tn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:qt(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},nn=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Hn(t,e)}getParentElement(t){return Bt(t)}query(t,e,n){return Kn(t,e,n)}computeStyle(t,e,n){return qt(t,e)}animate(t,e,n,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};s&&(l.easing=s);let h=new Map,d=o.filter(w=>w instanceof tn);cs(n,i)&&d.forEach(w=>{w.currentSnapshot.forEach((E,A)=>h.set(A,E))});let m=as(e).map(w=>new Map(w));m=us(t,m,h);let S=Xo(t,m);return new tn(t,m,l,S)}};var Wt="@",As="@.disabled",rn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Wt&&e==As?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,i){return this.delegate.listen(t,e,n,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},cr=class extends rn{factory;constructor(t,e,n,i,s){super(e,n,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Wt?e.charAt(1)=="."&&e==As?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,i){if(e.charAt(0)==Wt){let s=ta(t),o=e.slice(1),a="";return o.charAt(0)!=Wt&&([o,a]=na(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let h=l._data||-1;this.factory.scheduleListenerCallback(h,n,l)})}return this.delegate.listen(t,e,n,i)}};function ta(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function na(r){let t=r.indexOf("."),e=r.substring(0,t),n=r.slice(t+1);return[e,n]}var sn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(t,e){let n="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let h=this._rendererCache,d=h.get(i);if(!d){let m=()=>h.delete(i);d=new rn(n,i,this.engine,m),h.set(i,d)}return d}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=h=>{Array.isArray(h)?h.forEach(a):this.engine.registerTrigger(s,o,t,h.name,h)};return e.data.animation.forEach(a),new cr(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var ia=(()=>{class r extends at{constructor(e,n,i){super(e,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(se(Lt),se(Qe),se(Ye))};static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})();function sa(){return new Qt}function oa(r,t,e){return new sn(r,t,e)}var Ps=[{provide:Ye,useFactory:sa},{provide:at,useClass:ia},{provide:Ur,useFactory:oa,deps:[ti,at,Zr]}],Al=[{provide:Qe,useClass:ur},{provide:Nn,useValue:"NoopAnimations"},...Ps],aa=[{provide:Qe,useFactory:()=>new nn},{provide:Nn,useFactory:()=>"BrowserAnimations"},...Ps];function Ns(){return qr("NgEagerAnimations"),[...aa]}var on=class r{constructor(){}_loading=new Fr(!1);loading$=this._loading.asObservable();loaderStartTime=0;show(){this.loaderStartTime=Date.now(),this._loading.next(!0)}hide(){let n=1e3-(Date.now()-this.loaderStartTime);n>0?setTimeout(()=>this._loading.next(!1),n):this._loading.next(!1)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=ce({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ds=(r,t)=>{let e=ue(on);return e.show(),t(r).pipe(zr(()=>{e.hide()}))};var Ls=(r,t)=>{let e=ue(ge),n=ue(pe),i=ue(xt);if(["/Users/login","/Users/register","/Users/forget-password","/Users/submit-new-password","/Users/confirm-password-change"].some(a=>r.url.toLowerCase().includes(a)))return t(r);let o=e.getAccessToken();return o&&(r=r.clone({setHeaders:{Authorization:`Bearer ${o}`}})),t(r).pipe(wn(a=>a.status===401||a.status===403?e.refreshToken().pipe(mt(l=>{e.saveNewTokens(l);let h=r.clone({setHeaders:{Authorization:`Bearer ${l.accessToken}`},withCredentials:!0});return t(h)}),wn(l=>(i.warning(l.message||"Session expired, please login."),n.navigate(["/login"]),e.removeAccessToken(),Tn(()=>l)))):Tn(()=>a)))};var He=class{},Ms=(()=>{class r extends He{getTranslation(e){return Re({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Mt(r)))(i||r)}})();static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})(),Ct=class{},Rs=(()=>{class r{handle(e){return e.key}static \u0275fac=function(n){return new(n||r)};static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})();function Xe(r){return typeof r<"u"&&r!==null}function fr(r){return r&&typeof r=="object"&&!Array.isArray(r)}function Fs(r,t){let e=Object.assign({},r);return fr(r)&&fr(t)&&Object.keys(t).forEach(n=>{fr(t[n])?n in r?e[n]=Fs(r[n],t[n]):Object.assign(e,{[n]:t[n]}):Object.assign(e,{[n]:t[n]})}),e}var lt=class{},Os=(()=>{class r extends lt{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,n){let i;return typeof e=="string"?i=this.interpolateString(e,n):typeof e=="function"?i=this.interpolateFunction(e,n):i=e,i}getValue(e,n){let i=typeof n=="string"?n.split("."):[n];n="";do n+=i.shift(),Xe(e)&&Xe(e[n])&&(typeof e[n]=="object"||!i.length)?(e=e[n],n=""):i.length?n+=".":e=void 0;while(i.length);return e}interpolateFunction(e,n){return e(n)}interpolateString(e,n){return n?e.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(n,s);return Xe(o)?o:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Mt(r)))(i||r)}})();static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})(),ct=class{},Is=(()=>{class r extends ct{compile(e,n){return e}compileTranslations(e,n){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Mt(r)))(i||r)}})();static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})(),an=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Ue;onLangChange=new Ue;onDefaultLangChange=new Ue},dr=new pt("USE_STORE"),mr=new pt("USE_DEFAULT_LANG"),pr=new pt("DEFAULT_LANGUAGE"),gr=new pt("USE_EXTEND"),ut=(()=>{class r{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Ue;_onLangChange=new Ue;_onDefaultLangChange=new Ue;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,n,i,s,o,a=!0,l=!1,h=!1,d){this.store=e,this.currentLoader=n,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=l,this.extend=h,d&&this.setDefaultLang(d)}setDefaultLang(e){if(e===this.defaultLang)return;let n=this.retrieveTranslations(e);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=e),n.pipe(dt(1)).subscribe(i=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Re(this.translations[e]);let n=this.retrieveTranslations(e);return typeof n<"u"?(this.currentLang||(this.currentLang=e),n.pipe(dt(1)).subscribe(i=>{this.changeLang(e)}),n):(this.changeLang(e),Re(this.translations[e]))}retrieveTranslations(e){let n;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),n=this._translationRequests[e]),n}getTranslation(e){this.pending=!0;let n=this.currentLoader.getTranslation(e).pipe(Cn(1),dt(1));return this.loadingTranslations=n.pipe(En(i=>this.compiler.compileTranslations(i,e)),Cn(1),dt(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?Ne(Ne({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),n}setTranslation(e,n,i=!1){n=this.compiler.compileTranslations(n,e),(i||this.extend)&&this.translations[e]?this.translations[e]=Fs(this.translations[e],n):this.translations[e]=n,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(n=>{this.langs.indexOf(n)===-1&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,n,i){let s;if(n instanceof Array){let o={},a=!1;for(let l of n)o[l]=this.getParsedResult(e,l,i),Ke(o[l])&&(a=!0);if(a){let l=n.map(h=>Ke(o[h])?o[h]:Re(o[h]));return xr(l).pipe(En(h=>{let d={};return h.forEach((m,S)=>{d[n[S]]=m}),d}))}return o}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,n),i)),typeof s>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),i)),typeof s>"u"){let o={key:n,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:n}get(e,n){if(!Xe(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(jr(i=>(i=this.getParsedResult(i,e,n),Ke(i)?i:Re(i))));{let i=this.getParsedResult(this.translations[this.currentLang],e,n);return Ke(i)?i:Re(i)}}getStreamOnTranslationChange(e,n){if(!Xe(e)||!e.length)throw new Error('Parameter "key" required');return Sn(bn(()=>this.get(e,n)),this.onTranslationChange.pipe(mt(i=>{let s=this.getParsedResult(i.translations,e,n);return typeof s.subscribe=="function"?s:Re(s)})))}stream(e,n){if(!Xe(e)||!e.length)throw new Error('Parameter "key" required');return Sn(bn(()=>this.get(e,n)),this.onLangChange.pipe(mt(i=>{let s=this.getParsedResult(i.translations,e,n);return Ke(s)?s:Re(s)})))}instant(e,n){if(!Xe(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,n);if(Ke(i)){if(e instanceof Array){let s={};return e.forEach((o,a)=>{s[e[a]]=e[a]}),s}return e}else return i}set(e,n,i=this.currentLang){this.translations[i][e]=this.compiler.compile(n,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(n){return new(n||r)(se(an),se(He),se(ct),se(lt),se(Ct),se(mr),se(dr),se(gr),se(pr))};static \u0275prov=ce({token:r,factory:r.\u0275fac})}return r})();var xs=(()=>{class r{static forRoot(e={}){return{ngModule:r,providers:[e.loader||{provide:He,useClass:Ms},e.compiler||{provide:ct,useClass:Is},e.parser||{provide:lt,useClass:Os},e.missingTranslationHandler||{provide:Ct,useClass:Rs},an,{provide:dr,useValue:e.isolate},{provide:mr,useValue:e.useDefaultLang},{provide:gr,useValue:e.extend},{provide:pr,useValue:e.defaultLanguage},ut]}}static forChild(e={}){return{ngModule:r,providers:[e.loader||{provide:He,useClass:Ms},e.compiler||{provide:ct,useClass:Is},e.parser||{provide:lt,useClass:Os},e.missingTranslationHandler||{provide:Ct,useClass:Rs},{provide:dr,useValue:e.isolate},{provide:mr,useValue:e.useDefaultLang},{provide:gr,useValue:e.extend},{provide:pr,useValue:e.defaultLanguage},ut]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Dn({type:r});static \u0275inj=kn({})}return r})();var ln=class{http;prefix;suffix;constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}};var cn=class r extends nt{constructor(e,n){super();this.title=e;this.translate=n}updateTitle(e){let n=this.buildTitle(e);n&&this.translate.get(n).subscribe(i=>{this.title.setTitle(i)})}static \u0275fac=function(n){return new(n||r)(se(li),se(ut))};static \u0275prov=ce({token:r,factory:r.\u0275fac})};var zs={apiUrl:"https://e-commerceme.runasp.net/api/",production:!0,featureFlag:!1};var Vs={providers:[Br(),pi(Mi,gi()),fi(ui(),hi(),ci({includePostRequests:!0})),{provide:yi,useValue:zs.apiUrl},Vr(ai,xs.forRoot({loader:{provide:He,useFactory:la,deps:[ri]}})),ii(si([Ds,Ls]),oi()),{provide:Hr,useValue:{disableImageSizeWarning:!0,disableImageLazyLoadWarning:!0}},Ai({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0}),Ns(),{provide:nt,useClass:cn}]};function la(r){return new ln(r,"./i18n/",".json")}var ca=()=>["/Home"],ua=()=>["/Order"],ha=()=>["/routePath"],un=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=tt({type:r,selectors:[["app-footer"]],decls:44,vars:8,consts:[[2,"background-color","#f8f8f8","padding","40px 20px","border-top","1px solid #eee","font-family","Arial, sans-serif","color","#555"],[2,"display","flex","flex-wrap","wrap","gap","20px"],[2,"flex","1","min-width","250px"],[2,"color","#333","margin-bottom","15px"],[2,"font-size","19px","line-height","1.6"],[2,"flex","1","min-width","180px"],[2,"list-style","none","padding","0","margin","0"],[2,"margin-bottom","8px"],["routerLinkActive","router-link-active",2,"text-decoration","none","color","#555","font-size","14px",3,"routerLink"],[2,"flex","1","min-width","220px"],[2,"font-size","17px","margin-bottom","8px"],[1,"fas","fa-map-marker-alt",2,"margin-right","5px"],[1,"fas","fa-envelope",2,"margin-right","5px"],[2,"font-size","17px"],[1,"fas","fa-phone-alt",2,"margin-right","5px"],[2,"border","0","border-top","4px solid #000","margin","30px auto","max-width","1200px"],[2,"text-align","center","max-width","1200px","margin","0 auto"],[2,"margin-bottom","15px"],[2,"color","#333","margin-bottom","10px"],["loading","lazy","src","/images/visa.webp","alt","Visa",2,"height","90px","margin","0 5px"],["loading","lazy","src","/images/vodavon.webp","alt","Mastercard",2,"height","90px","margin","0 5px"],["loading","lazy","src","/images/cash.webp","alt","Cash on Delivery",2,"height","90px","margin","0 5px"],["loading","lazy","src","/images/paypal.webp","alt","PayPal",2,"height","90px","margin","0 5px"],[2,"font-size","25px","color","#777"]],template:function(e,n){e&1&&(G(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h4",3),te(5,"About"),X(),G(6,"p",4),te(7," We improve For You For Good Anything for you "),X()(),G(8,"div",5)(9,"h4",3),te(10,"Links"),X(),G(11,"ul",6)(12,"li",7)(13,"a",8),te(14,"Home"),X()(),G(15,"li",7)(16,"a",8),te(17,"Order"),X()(),G(18,"li",7)(19,"a",8),te(20,"Contact"),X()()()(),G(21,"div",9)(22,"h4",3),te(23,"Contact Us"),X(),G(24,"p",10),he(25,"i",11),te(26),X(),G(27,"p",10),he(28,"i",12),te(29),X(),G(30,"p",13),he(31,"i",14),te(32," +02 1100133486 "),X()()(),he(33,"hr",15),G(34,"div",16)(35,"div",17)(36,"h5",18),te(37,"Payment"),X(),he(38,"img",19)(39,"img",20)(40,"img",21)(41,"img",22),X(),G(42,"p",23),te(43," \xA9 Alone WebSite "),X()()()()),e&2&&(le(13),De("routerLink",Ze(5,ca)),le(3),De("routerLink",Ze(6,ua)),le(3),De("routerLink",Ze(7,ha)),le(7),In(" ","Helwan @ American Project 9"," "),le(3),In(" ","ziadbobo78@gmail.com"," "))},dependencies:[It],encapsulation:2})};var hn=class r{constructor(t,e,n,i,s){this.translate=t;this.document=e;this.router=n;this.storage=i;this.titleStrategy=s;let o=this.storage.get("lang")||"ar";this.setLanguage(o)}currentLang="ar";toggleLang(){let t=this.currentLang==="ar"?"en":"ar";this.setLanguage(t)}setLanguage(t){this.currentLang=t,this.storage.set("lang",t),this.translate.use(t).subscribe(()=>{this.translate.setDefaultLang(t),this.setDirection(t);let e=this.router.routerState.snapshot;this.titleStrategy.updateTitle(e)})}setDirection(t){this.document.body.setAttribute("dir",t==="ar"?"rtl":"ltr")}static \u0275fac=function(e){return new(e||r)(se(ut),se(Lt),se(pe),se(_i),se(nt))};static \u0275prov=ce({token:r,factory:r.\u0275fac,providedIn:"root"})};var Hs=()=>({exact:!0});function pa(r,t){r&1&&(G(0,"li",18)(1,"a",26),te(2,"Dashboard"),X()())}function ga(r,t){if(r&1){let e=On();G(0,"li",29),qe("click",function(){let i=An(e).$implicit,s=Rt(2);return Pn(s.goToProduct(i.id))}),he(1,"img",30),G(2,"span"),te(3),X()()}if(r&2){let e=t.$implicit;le(),De("src",Yr("https://localhost:7054",e.images),Kr)("alt",Qr(e.productName)),le(2),Ot(e.productName)}}function ya(r,t){if(r&1&&(G(0,"ul",27),Ln(1,ga,4,5,"li",28),X()),r&2){let e=Rt();le(),De("ngForOf",e.searchResults)}}function _a(r,t){r&1&&(G(0,"div",24)(1,"a",31),te(2,"Register"),X(),G(3,"a",32),te(4,"LogIn"),X()())}function va(r,t){if(r&1){let e=On();G(0,"a",33),qe("click",function(){An(e);let i=Rt();return Pn(i.logout())}),te(1,"Log Out"),X()}}var fn=class r{constructor(t,e,n,i,s,o,a){this.auth=t;this.tostar=e;this.router=n;this.langService=i;this.itemsService=s;this.userService=o;this.CartService=a}searchTerm="";logout(){this.auth.logout().subscribe({next:()=>{this.auth.removeAccessToken(),this.itemsService.clearWishlist(),this.CartService.clearCartLocal(),this.router.navigate(["/login"]),this.tostar.success("You have successfully logged out."),this.CartService.cartCount$.subscribe},error:()=>{this.tostar.error("Logout failed")}})}get isAccess(){return!!this.auth.getAccessToken()}role="";decode;accessToken;get isAdmin(){let t="http://schemas.microsoft.com/ws/2008/06/identity/claims/role",e=this.auth.getAccessToken();return e?(rt(e)[t]||"")==="Admin":!1}get isStaff(){let t="http://schemas.microsoft.com/ws/2008/06/identity/claims/role",e=this.auth.getAccessToken();return e?(rt(e)[t]||"")==="Staff":!1}wishlistCount=0;wishlistCountSub;ngOnInit(){this.itemsService.wishlistItems$.subscribe(e=>{this.wishlistCount=e.length}),this.CartService.cartCount$.subscribe(e=>{this.cartCount=e});let t=this.auth.getAccessToken();if(t){let n=rt(t)["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"];this.CartService.loadCartFromServer(n).subscribe()}this.itemsService.loadWishlistFromStorage(),this.userService.GetAllProduct().subscribe(e=>{this.products=e})}ngOnDestroy(){this.wishlistCountSub?.unsubscribe()}searchResults=[];products=[];onSearchChange(){let t=this.searchTerm.toLowerCase().trim();if(t.length===0){this.searchResults=[];return}this.searchResults=this.products.filter(e=>e.productName.toLowerCase().includes(t)).slice(0,5)}goToProduct(t){this.searchTerm="",this.searchResults=[],this.router.navigate(["/view",t])}changeLanguage(t){this.langService.toggleLang()}cartCount=0;static \u0275fac=function(e){return new(e||r)(Se(ge),Se(xt),Se(pe),Se(hn),Se(Pi),Se(Di),Se(Ni))};static \u0275cmp=tt({type:r,selectors:[["app-navbar"]],decls:40,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","fixed-top","py-2"],[1,"container-fluid"],["routerLink","/Home",1,"navbar-brand","py-0","me-3",2,"font-size","1.25rem"],[1,"d-flex","align-items-center","ms-auto","me-3"],["routerLink","/WishList",1,"nav-link","text-light","p-0","nav-icon-wrapper","me-3"],[1,"fas","fa-heart","fa-lg"],[1,"badge","rounded-pill","bg-danger","icon-badge"],["routerLink","/Cart",1,"nav-link","text-light","p-0","nav-icon-wrapper","me-3"],[1,"fa-solid","fa-cart-shopping","fa-lg"],[1,"dropdown","me-3"],["type","button","id","languageDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-light","btn-sm","dropdown-toggle"],[1,"fas","fa-globe","me-1"],["aria-labelledby","languageDropdown",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fa-solid","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/Home","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/Order","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["role","search",1,"d-flex",3,"submit"],["name","search","type","search","placeholder","Search","aria-label","Search","autocomplete","off",1,"form-control","form-control-sm","me-2",3,"ngModelChange","input","ngModel"],["class","list-group position-absolute w-100","style","left: 0; top: 100%; z-index: 1000;",4,"ngIf"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-danger","w-25","mt-2"],["routerLink","/Dashboard","routerLinkActive","active",1,"nav-link"],[1,"list-group","position-absolute","w-100",2,"left","0","top","100%","z-index","1000"],["class","list-group-item d-flex align-items-center","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center",2,"cursor","pointer",3,"click"],["width","40","height","40",1,"me-2","rounded",3,"src","alt"],["routerLink","signup",1,"btn","btn-primary"],["routerLink","login",1,"btn","btn-outline-primary"],[1,"btn","btn-danger","w-25","mt-2",3,"click"]],template:function(e,n){e&1&&(G(0,"nav",0)(1,"div",1)(2,"a",2),te(3,"Your Brand"),X(),G(4,"div",3)(5,"a",4),he(6,"i",5),G(7,"span",6),te(8),X()(),G(9,"a",7),he(10,"i",8),G(11,"span",6),te(12),X()(),G(13,"div",9)(14,"button",10),he(15,"i",11),te(16," Lang "),X(),G(17,"ul",12)(18,"li")(19,"button",13),qe("click",function(){return n.changeLanguage("en")}),te(20,"English"),X()(),G(21,"li")(22,"button",13),qe("click",function(){return n.changeLanguage("ar")}),te(23,"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"),X()()()()(),G(24,"button",14),he(25,"i",15),X(),G(26,"div",16)(27,"ul",17)(28,"li",18)(29,"a",19),te(30,"Home"),X()(),Mn(31,pa,3,0,"li",18),G(32,"li",18)(33,"a",20),te(34,"Orders"),X()()(),G(35,"form",21),qe("submit",function(s){return s.preventDefault()}),G(36,"input",22),Wr("ngModelChange",function(s){return $r(n.searchTerm,s)||(n.searchTerm=s),s}),qe("input",function(){return n.onSearchChange()}),X()(),Ln(37,ya,2,1,"ul",23),Mn(38,_a,5,0,"div",24)(39,va,2,0,"a",25),X()()()),e&2&&(le(8),Ot(n.wishlistCount),le(4),Ot(n.cartCount),le(17),De("routerLinkActiveOptions",Ze(8,Hs)),le(2),Rn(n.isAdmin||n.isStaff?31:-1),le(2),De("routerLinkActiveOptions",Ze(9,Hs)),le(3),Gr("ngModel",n.searchTerm),le(),De("ngIf",n.searchResults.length>0),le(),Rn(n.isAccess?39:38))},dependencies:[Ci,wi,vi,Ti,Ei,bi,Si,It,mi,ei,Xr,Jr],styles:[".nav-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:28px;height:28px;line-height:1;flex-shrink:0}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.icon-badge[_ngcontent-%COMP%]{position:absolute;top:-3px;right:-7px;font-size:.6em;padding:.2em .5em;border-radius:50%;line-height:1;min-width:1.5em;text-align:center;z-index:10}.nav-icon-wrapper[_ngcontent-%COMP%]   i.fa-lg[_ngcontent-%COMP%]{font-size:1.15em}.navbar-collapse[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{white-space:nowrap}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff!important}"]})};var dn=class r{constructor(t){this.authService=t}title="Registration";ngOnInit(){this.scheduleTokenRefresh()}scheduleTokenRefresh(){setInterval(()=>{let t=this.authService.getAccessToken();if(t){let n=JSON.parse(atob(t.split(".")[1])).exp,i=Math.floor(Date.now()/1e3);n-i<=60&&this.authService.refreshToken().subscribe({next:()=>console.log("Token refreshed"),error:()=>console.log("Failed to refresh token")})}},5e3)}static \u0275fac=function(e){return new(e||r)(Se(ge))};static \u0275cmp=tt({type:r,selectors:[["app-root"]],decls:3,vars:0,template:function(e,n){e&1&&he(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[di,un,fn],encapsulation:2})};var Me=globalThis;function _e(r){return(Me.__Zone_symbol_prefix||"__zone_symbol__")+r}function Ta(){let r=Me.performance;function t(g){r&&r.mark&&r.mark(g)}function e(g,p){r&&r.measure&&r.measure(g,p)}t("Zone");let n=(()=>{class g{static __symbol__=_e;static assertZonePatched(){if(Me.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let c=g.current;for(;c.parent;)c=c.parent;return c}static get current(){return P.zone}static get currentTask(){return I}static __load_patch(c,u,b=!1){if(O.hasOwnProperty(c)){let N=Me[_e("forceDuplicateZoneCheck")]===!0;if(!b&&N)throw Error("Already loaded patch: "+c)}else if(!Me["__Zone_disable_"+c]){let N="Zone:"+c;t(N),O[c]=u(Me,g,R),e(N,N)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(c,u){this._parent=c,this._name=u?u.name||"unnamed":"<root>",this._properties=u&&u.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,u)}get(c){let u=this.getZoneWith(c);if(u)return u._properties[c]}getZoneWith(c){let u=this;for(;u;){if(u._properties.hasOwnProperty(c))return u;u=u._parent}return null}fork(c){if(!c)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,c)}wrap(c,u){if(typeof c!="function")throw new Error("Expecting function got: "+c);let b=this._zoneDelegate.intercept(this,c,u),N=this;return function(){return N.runGuarded(b,this,arguments,u)}}run(c,u,b,N){P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,c,u,b,N)}finally{P=P.parent}}runGuarded(c,u=null,b,N){P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,c,u,b,N)}catch(U){if(this._zoneDelegate.handleError(this,U))throw U}}finally{P=P.parent}}runTask(c,u,b){if(c.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(c.zone||z).name+"; Execution: "+this.name+")");let N=c,{type:U,data:{isPeriodic:x=!1,isRefreshable:Y=!1}={}}=c;if(c.state===V&&(U===Q||U===k))return;let me=c.state!=M;me&&N._transitionTo(M,T);let Te=I;I=N,P={parent:P,zone:this};try{U==k&&c.data&&!x&&!Y&&(c.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,N,u,b)}catch(ee){if(this._zoneDelegate.handleError(this,ee))throw ee}}finally{let ee=c.state;if(ee!==V&&ee!==W)if(U==Q||x||Y&&ee===C)me&&N._transitionTo(T,M,C);else{let _=N._zoneDelegates;this._updateTaskCount(N,-1),me&&N._transitionTo(V,M,V),Y&&(N._zoneDelegates=_)}P=P.parent,I=Te}}scheduleTask(c){if(c.zone&&c.zone!==this){let b=this;for(;b;){if(b===c.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${c.zone.name}`);b=b.parent}}c._transitionTo(C,V);let u=[];c._zoneDelegates=u,c._zone=this;try{c=this._zoneDelegate.scheduleTask(this,c)}catch(b){throw c._transitionTo(W,C,V),this._zoneDelegate.handleError(this,b),b}return c._zoneDelegates===u&&this._updateTaskCount(c,1),c.state==C&&c._transitionTo(T,C),c}scheduleMicroTask(c,u,b,N){return this.scheduleTask(new o(j,c,u,b,N,void 0))}scheduleMacroTask(c,u,b,N,U){return this.scheduleTask(new o(k,c,u,b,N,U))}scheduleEventTask(c,u,b,N,U){return this.scheduleTask(new o(Q,c,u,b,N,U))}cancelTask(c){if(c.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(c.zone||z).name+"; Execution: "+this.name+")");if(!(c.state!==T&&c.state!==M)){c._transitionTo(Z,T,M);try{this._zoneDelegate.cancelTask(this,c)}catch(u){throw c._transitionTo(W,Z),this._zoneDelegate.handleError(this,u),u}return this._updateTaskCount(c,-1),c._transitionTo(V,Z),c.runCount=-1,c}}_updateTaskCount(c,u){let b=c._zoneDelegates;u==-1&&(c._zoneDelegates=null);for(let N=0;N<b.length;N++)b[N]._updateTaskCount(c.type,u)}}return g})(),i={name:"",onHasTask:(g,p,c,u)=>g.hasTask(c,u),onScheduleTask:(g,p,c,u)=>g.scheduleTask(c,u),onInvokeTask:(g,p,c,u,b,N)=>g.invokeTask(c,u,b,N),onCancelTask:(g,p,c,u)=>g.cancelTask(c,u)};class s{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(p,c,u){this._zone=p,this._parentDelegate=c,this._forkZS=u&&(u&&u.onFork?u:c._forkZS),this._forkDlgt=u&&(u.onFork?c:c._forkDlgt),this._forkCurrZone=u&&(u.onFork?this._zone:c._forkCurrZone),this._interceptZS=u&&(u.onIntercept?u:c._interceptZS),this._interceptDlgt=u&&(u.onIntercept?c:c._interceptDlgt),this._interceptCurrZone=u&&(u.onIntercept?this._zone:c._interceptCurrZone),this._invokeZS=u&&(u.onInvoke?u:c._invokeZS),this._invokeDlgt=u&&(u.onInvoke?c:c._invokeDlgt),this._invokeCurrZone=u&&(u.onInvoke?this._zone:c._invokeCurrZone),this._handleErrorZS=u&&(u.onHandleError?u:c._handleErrorZS),this._handleErrorDlgt=u&&(u.onHandleError?c:c._handleErrorDlgt),this._handleErrorCurrZone=u&&(u.onHandleError?this._zone:c._handleErrorCurrZone),this._scheduleTaskZS=u&&(u.onScheduleTask?u:c._scheduleTaskZS),this._scheduleTaskDlgt=u&&(u.onScheduleTask?c:c._scheduleTaskDlgt),this._scheduleTaskCurrZone=u&&(u.onScheduleTask?this._zone:c._scheduleTaskCurrZone),this._invokeTaskZS=u&&(u.onInvokeTask?u:c._invokeTaskZS),this._invokeTaskDlgt=u&&(u.onInvokeTask?c:c._invokeTaskDlgt),this._invokeTaskCurrZone=u&&(u.onInvokeTask?this._zone:c._invokeTaskCurrZone),this._cancelTaskZS=u&&(u.onCancelTask?u:c._cancelTaskZS),this._cancelTaskDlgt=u&&(u.onCancelTask?c:c._cancelTaskDlgt),this._cancelTaskCurrZone=u&&(u.onCancelTask?this._zone:c._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let b=u&&u.onHasTask,N=c&&c._hasTaskZS;(b||N)&&(this._hasTaskZS=b?u:i,this._hasTaskDlgt=c,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,u.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=c,this._scheduleTaskCurrZone=this._zone),u.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=c,this._invokeTaskCurrZone=this._zone),u.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=c,this._cancelTaskCurrZone=this._zone))}fork(p,c){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,p,c):new n(p,c)}intercept(p,c,u){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,p,c,u):c}invoke(p,c,u,b,N){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,p,c,u,b,N):c.apply(u,b)}handleError(p,c){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,p,c):!0}scheduleTask(p,c){let u=c;if(this._scheduleTaskZS)this._hasTaskZS&&u._zoneDelegates.push(this._hasTaskDlgtOwner),u=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,p,c),u||(u=c);else if(c.scheduleFn)c.scheduleFn(c);else if(c.type==j)E(c);else throw new Error("Task is missing scheduleFn.");return u}invokeTask(p,c,u,b){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,p,c,u,b):c.callback.apply(u,b)}cancelTask(p,c){let u;if(this._cancelTaskZS)u=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,p,c);else{if(!c.cancelFn)throw Error("Task is not cancelable");u=c.cancelFn(c)}return u}hasTask(p,c){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,p,c)}catch(u){this.handleError(p,u)}}_updateTaskCount(p,c){let u=this._taskCounts,b=u[p],N=u[p]=b+c;if(N<0)throw new Error("More tasks executed then were scheduled.");if(b==0||N==0){let U={microTask:u.microTask>0,macroTask:u.macroTask>0,eventTask:u.eventTask>0,change:p};this.hasTask(this._zone,U)}}}class o{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(p,c,u,b,N,U){if(this.type=p,this.source=c,this.data=b,this.scheduleFn=N,this.cancelFn=U,!u)throw new Error("callback is not defined");this.callback=u;let x=this;p===Q&&b&&b.useG?this.invoke=o.invokeTask:this.invoke=function(){return o.invokeTask.call(Me,x,this,arguments)}}static invokeTask(p,c,u){p||(p=this),ae++;try{return p.runCount++,p.zone.runTask(p,c,u)}finally{ae==1&&A(),ae--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(V,C)}_transitionTo(p,c,u){if(this._state===c||this._state===u)this._state=p,p==V&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${p}', expecting state '${c}'${u?" or '"+u+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=_e("setTimeout"),l=_e("Promise"),h=_e("then"),d=[],m=!1,S;function w(g){if(S||Me[l]&&(S=Me[l].resolve(0)),S){let p=S[h];p||(p=S.then),p.call(S,g)}else Me[a](g,0)}function E(g){ae===0&&d.length===0&&w(A),g&&d.push(g)}function A(){if(!m){for(m=!0;d.length;){let g=d;d=[];for(let p=0;p<g.length;p++){let c=g[p];try{c.zone.runTask(c,null,null)}catch(u){R.onUnhandledError(u)}}}R.microtaskDrainDone(),m=!1}}let z={name:"NO ZONE"},V="notScheduled",C="scheduling",T="scheduled",M="running",Z="canceling",W="unknown",j="microTask",k="macroTask",Q="eventTask",O={},R={symbol:_e,currentZoneFrame:()=>P,onUnhandledError:ie,microtaskDrainDone:ie,scheduleMicroTask:E,showUncaughtError:()=>!n[_e("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ie,patchMethod:()=>ie,bindArguments:()=>[],patchThen:()=>ie,patchMacroTask:()=>ie,patchEventPrototype:()=>ie,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ie,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ie,wrapWithCurrentZone:()=>ie,filterProperties:()=>[],attachOriginToPatched:()=>ie,_redefineProperty:()=>ie,patchCallbacks:()=>ie,nativeScheduleMicroTask:w},P={parent:null,zone:new n(null,null)},I=null,ae=0;function ie(){}return e("Zone","Zone"),n}function Ea(){let r=globalThis,t=r[_e("forceDuplicateZoneCheck")]===!0;if(r.Zone&&(t||typeof r.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return r.Zone??=Ta(),r.Zone}var At=Object.getOwnPropertyDescriptor,Er=Object.defineProperty,Sr=Object.getPrototypeOf,Sa=Object.create,ba=Array.prototype.slice,br="addEventListener",wr="removeEventListener",yr=_e(br),_r=_e(wr),Ie="true",Fe="false",Pt=_e("");function Cr(r,t){return Zone.current.wrap(r,t)}function kr(r,t,e,n,i){return Zone.current.scheduleMacroTask(r,t,e,n,i)}var J=_e,gn=typeof window<"u",Nt=gn?window:void 0,oe=gn&&Nt||globalThis,wa="removeAttribute";function Ar(r,t){for(let e=r.length-1;e>=0;e--)typeof r[e]=="function"&&(r[e]=Cr(r[e],t+"_"+e));return r}function Ca(r,t){let e=r.constructor.name;for(let n=0;n<t.length;n++){let i=t[n],s=r[i];if(s){let o=At(r,i);if(!Ws(o))continue;r[i]=(a=>{let l=function(){return a.apply(this,Ar(arguments,e+"."+i))};return je(l,a),l})(s)}}}function Ws(r){return r?r.writable===!1?!1:!(typeof r.get=="function"&&typeof r.set>"u"):!0}var Qs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,yn=!("nw"in oe)&&typeof oe.process<"u"&&oe.process.toString()==="[object process]",Pr=!yn&&!Qs&&!!(gn&&Nt.HTMLElement),Ys=typeof oe.process<"u"&&oe.process.toString()==="[object process]"&&!Qs&&!!(gn&&Nt.HTMLElement),pn={},ka=J("enable_beforeunload"),Ks=function(r){if(r=r||oe.event,!r)return;let t=pn[r.type];t||(t=pn[r.type]=J("ON_PROPERTY"+r.type));let e=this||r.target||oe,n=e[t],i;if(Pr&&e===Nt&&r.type==="error"){let s=r;i=n&&n.call(this,s.message,s.filename,s.lineno,s.colno,s.error),i===!0&&r.preventDefault()}else i=n&&n.apply(this,arguments),r.type==="beforeunload"&&oe[ka]&&typeof i=="string"?r.returnValue=i:i!=null&&!i&&r.preventDefault();return i};function Us(r,t,e){let n=At(r,t);if(!n&&e&&At(e,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let i=J("on"+t+"patched");if(r.hasOwnProperty(i)&&r[i])return;delete n.writable,delete n.value;let s=n.get,o=n.set,a=t.slice(2),l=pn[a];l||(l=pn[a]=J("ON_PROPERTY"+a)),n.set=function(h){let d=this;if(!d&&r===oe&&(d=oe),!d)return;typeof d[l]=="function"&&d.removeEventListener(a,Ks),o?.call(d,null),d[l]=h,typeof h=="function"&&d.addEventListener(a,Ks,!1)},n.get=function(){let h=this;if(!h&&r===oe&&(h=oe),!h)return null;let d=h[l];if(d)return d;if(s){let m=s.call(this);if(m)return n.set.call(this,m),typeof h[wa]=="function"&&h.removeAttribute(t),m}return null},Er(r,t,n),r[i]=!0}function Xs(r,t,e){if(t)for(let n=0;n<t.length;n++)Us(r,"on"+t[n],e);else{let n=[];for(let i in r)i.slice(0,2)=="on"&&n.push(i);for(let i=0;i<n.length;i++)Us(r,n[i],e)}}var ke=J("originalInstance");function kt(r){let t=oe[r];if(!t)return;oe[J(r)]=t,oe[r]=function(){let i=Ar(arguments,r);switch(i.length){case 0:this[ke]=new t;break;case 1:this[ke]=new t(i[0]);break;case 2:this[ke]=new t(i[0],i[1]);break;case 3:this[ke]=new t(i[0],i[1],i[2]);break;case 4:this[ke]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},je(oe[r],t);let e=new t(function(){}),n;for(n in e)r==="XMLHttpRequest"&&n==="responseBlob"||function(i){typeof e[i]=="function"?oe[r].prototype[i]=function(){return this[ke][i].apply(this[ke],arguments)}:Er(oe[r].prototype,i,{set:function(s){typeof s=="function"?(this[ke][i]=Cr(s,r+"."+i),je(this[ke][i],s)):this[ke][i]=s},get:function(){return this[ke][i]}})}(n);for(n in t)n!=="prototype"&&t.hasOwnProperty(n)&&(oe[r][n]=t[n])}function xe(r,t,e){let n=r;for(;n&&!n.hasOwnProperty(t);)n=Sr(n);!n&&r[t]&&(n=r);let i=J(t),s=null;if(n&&(!(s=n[i])||!n.hasOwnProperty(i))){s=n[i]=n[t];let o=n&&At(n,t);if(Ws(o)){let a=e(s,i,t);n[t]=function(){return a(this,arguments)},je(n[t],s)}}return s}function Aa(r,t,e){let n=null;function i(s){let o=s.data;return o.args[o.cbIdx]=function(){s.invoke.apply(this,arguments)},n.apply(o.target,o.args),s}n=xe(r,t,s=>function(o,a){let l=e(o,a);return l.cbIdx>=0&&typeof a[l.cbIdx]=="function"?kr(l.name,a[l.cbIdx],l,i):s.apply(o,a)})}function je(r,t){r[J("OriginalDelegate")]=t}var qs=!1,vr=!1;function Pa(){if(qs)return vr;qs=!0;try{let r=Nt.navigator.userAgent;(r.indexOf("MSIE ")!==-1||r.indexOf("Trident/")!==-1||r.indexOf("Edge/")!==-1)&&(vr=!0)}catch{}return vr}function Zs(r){return typeof r=="function"}function Gs(r){return typeof r=="number"}var Na={useG:!0},ve={},Js={},eo=new RegExp("^"+Pt+"(\\w+)(true|false)$"),to=J("propagationStopped");function no(r,t){let e=(t?t(r):r)+Fe,n=(t?t(r):r)+Ie,i=Pt+e,s=Pt+n;ve[r]={},ve[r][Fe]=i,ve[r][Ie]=s}function Da(r,t,e,n){let i=n&&n.add||br,s=n&&n.rm||wr,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=J(i),h="."+i+":",d="prependListener",m="."+d+":",S=function(C,T,M){if(C.isRemoved)return;let Z=C.callback;typeof Z=="object"&&Z.handleEvent&&(C.callback=k=>Z.handleEvent(k),C.originalDelegate=Z);let W;try{C.invoke(C,T,[M])}catch(k){W=k}let j=C.options;if(j&&typeof j=="object"&&j.once){let k=C.originalDelegate?C.originalDelegate:C.callback;T[s].call(T,M.type,k,j)}return W};function w(C,T,M){if(T=T||r.event,!T)return;let Z=C||T.target||r,W=Z[ve[T.type][M?Ie:Fe]];if(W){let j=[];if(W.length===1){let k=S(W[0],Z,T);k&&j.push(k)}else{let k=W.slice();for(let Q=0;Q<k.length&&!(T&&T[to]===!0);Q++){let O=S(k[Q],Z,T);O&&j.push(O)}}if(j.length===1)throw j[0];for(let k=0;k<j.length;k++){let Q=j[k];t.nativeScheduleMicroTask(()=>{throw Q})}}}let E=function(C){return w(this,C,!1)},A=function(C){return w(this,C,!0)};function z(C,T){if(!C)return!1;let M=!0;T&&T.useG!==void 0&&(M=T.useG);let Z=T&&T.vh,W=!0;T&&T.chkDup!==void 0&&(W=T.chkDup);let j=!1;T&&T.rt!==void 0&&(j=T.rt);let k=C;for(;k&&!k.hasOwnProperty(i);)k=Sr(k);if(!k&&C[i]&&(k=C),!k||k[l])return!1;let Q=T&&T.eventNameToString,O={},R=k[l]=k[i],P=k[J(s)]=k[s],I=k[J(o)]=k[o],ae=k[J(a)]=k[a],ie;T&&T.prepend&&(ie=k[J(T.prepend)]=k[T.prepend]);function g(f,v){return v?typeof f=="boolean"?{capture:f,passive:!0}:f?typeof f=="object"&&f.passive!==!1?Or(Ne({},f),{passive:!0}):f:{passive:!0}:f}let p=function(f){if(!O.isExisting)return R.call(O.target,O.eventName,O.capture?A:E,O.options)},c=function(f){if(!f.isRemoved){let v=ve[f.eventName],L;v&&(L=v[f.capture?Ie:Fe]);let F=L&&f.target[L];if(F){for(let D=0;D<F.length;D++)if(F[D]===f){F.splice(D,1),f.isRemoved=!0,f.removeAbortListener&&(f.removeAbortListener(),f.removeAbortListener=null),F.length===0&&(f.allRemoved=!0,f.target[L]=null);break}}}if(f.allRemoved)return P.call(f.target,f.eventName,f.capture?A:E,f.options)},u=function(f){return R.call(O.target,O.eventName,f.invoke,O.options)},b=function(f){return ie.call(O.target,O.eventName,f.invoke,O.options)},N=function(f){return P.call(f.target,f.eventName,f.invoke,f.options)},U=M?p:u,x=M?c:N,Y=function(f,v){let L=typeof v;return L==="function"&&f.callback===v||L==="object"&&f.originalDelegate===v},me=T?.diff||Y,Te=Zone[J("UNPATCHED_EVENTS")],ee=r[J("PASSIVE_EVENTS")];function _(f){if(typeof f=="object"&&f!==null){let v=Ne({},f);return f.signal&&(v.signal=f.signal),v}return f}let y=function(f,v,L,F,D=!1,B=!1){return function(){let H=this||r,K=arguments[0];T&&T.transferEventName&&(K=T.transferEventName(K));let ne=arguments[1];if(!ne)return f.apply(this,arguments);if(yn&&K==="uncaughtException")return f.apply(this,arguments);let re=!1;if(typeof ne!="function"){if(!ne.handleEvent)return f.apply(this,arguments);re=!0}if(Z&&!Z(f,ne,H,arguments))return;let ze=!!ee&&ee.indexOf(K)!==-1,Ae=_(g(arguments[2],ze)),Je=Ae?.signal;if(Je?.aborted)return;if(Te){for(let Pe=0;Pe<Te.length;Pe++)if(K===Te[Pe])return ze?f.call(H,K,ne,Ae):f.apply(this,arguments)}let _n=Ae?typeof Ae=="boolean"?!0:Ae.capture:!1,Nr=Ae&&typeof Ae=="object"?Ae.once:!1,oo=Zone.current,vn=ve[K];vn||(no(K,Q),vn=ve[K]);let Dr=vn[_n?Ie:Fe],et=H[Dr],Lr=!1;if(et){if(Lr=!0,W){for(let Pe=0;Pe<et.length;Pe++)if(me(et[Pe],ne))return}}else et=H[Dr]=[];let Dt,Mr=H.constructor.name,Rr=Js[Mr];Rr&&(Dt=Rr[K]),Dt||(Dt=Mr+v+(Q?Q(K):K)),O.options=Ae,Nr&&(O.options.once=!1),O.target=H,O.capture=_n,O.eventName=K,O.isExisting=Lr;let ft=M?Na:void 0;ft&&(ft.taskData=O),Je&&(O.options.signal=void 0);let Ee=oo.scheduleEventTask(Dt,ne,ft,L,F);if(Je){O.options.signal=Je;let Pe=()=>Ee.zone.cancelTask(Ee);f.call(Je,"abort",Pe,{once:!0}),Ee.removeAbortListener=()=>Je.removeEventListener("abort",Pe)}if(O.target=null,ft&&(ft.taskData=null),Nr&&(O.options.once=!0),typeof Ee.options!="boolean"&&(Ee.options=Ae),Ee.target=H,Ee.capture=_n,Ee.eventName=K,re&&(Ee.originalDelegate=ne),B?et.unshift(Ee):et.push(Ee),D)return H}};return k[i]=y(R,h,U,x,j),ie&&(k[d]=y(ie,m,b,x,j,!0)),k[s]=function(){let f=this||r,v=arguments[0];T&&T.transferEventName&&(v=T.transferEventName(v));let L=arguments[2],F=L?typeof L=="boolean"?!0:L.capture:!1,D=arguments[1];if(!D)return P.apply(this,arguments);if(Z&&!Z(P,D,f,arguments))return;let B=ve[v],H;B&&(H=B[F?Ie:Fe]);let K=H&&f[H];if(K)for(let ne=0;ne<K.length;ne++){let re=K[ne];if(me(re,D)){if(K.splice(ne,1),re.isRemoved=!0,K.length===0&&(re.allRemoved=!0,f[H]=null,!F&&typeof v=="string")){let ze=Pt+"ON_PROPERTY"+v;f[ze]=null}return re.zone.cancelTask(re),j?f:void 0}}return P.apply(this,arguments)},k[o]=function(){let f=this||r,v=arguments[0];T&&T.transferEventName&&(v=T.transferEventName(v));let L=[],F=ro(f,Q?Q(v):v);for(let D=0;D<F.length;D++){let B=F[D],H=B.originalDelegate?B.originalDelegate:B.callback;L.push(H)}return L},k[a]=function(){let f=this||r,v=arguments[0];if(v){T&&T.transferEventName&&(v=T.transferEventName(v));let L=ve[v];if(L){let F=L[Fe],D=L[Ie],B=f[F],H=f[D];if(B){let K=B.slice();for(let ne=0;ne<K.length;ne++){let re=K[ne],ze=re.originalDelegate?re.originalDelegate:re.callback;this[s].call(this,v,ze,re.options)}}if(H){let K=H.slice();for(let ne=0;ne<K.length;ne++){let re=K[ne],ze=re.originalDelegate?re.originalDelegate:re.callback;this[s].call(this,v,ze,re.options)}}}}else{let L=Object.keys(f);for(let F=0;F<L.length;F++){let D=L[F],B=eo.exec(D),H=B&&B[1];H&&H!=="removeListener"&&this[a].call(this,H)}this[a].call(this,"removeListener")}if(j)return this},je(k[i],R),je(k[s],P),ae&&je(k[a],ae),I&&je(k[o],I),!0}let V=[];for(let C=0;C<e.length;C++)V[C]=z(e[C],n);return V}function ro(r,t){if(!t){let s=[];for(let o in r){let a=eo.exec(o),l=a&&a[1];if(l&&(!t||l===t)){let h=r[o];if(h)for(let d=0;d<h.length;d++)s.push(h[d])}}return s}let e=ve[t];e||(no(t),e=ve[t]);let n=r[e[Fe]],i=r[e[Ie]];return n?i?n.concat(i):n.slice():i?i.slice():[]}function La(r,t){let e=r.Event;e&&e.prototype&&t.patchMethod(e.prototype,"stopImmediatePropagation",n=>function(i,s){i[to]=!0,n&&n.apply(i,s)})}function Ma(r,t){t.patchMethod(r,"queueMicrotask",e=>function(n,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var mn=J("zoneTask");function ht(r,t,e,n){let i=null,s=null;t+=n,e+=n;let o={};function a(h){let d=h.data;d.args[0]=function(){return h.invoke.apply(this,arguments)};let m=i.apply(r,d.args);return Gs(m)?d.handleId=m:(d.handle=m,d.isRefreshable=Zs(m.refresh)),h}function l(h){let{handle:d,handleId:m}=h.data;return s.call(r,d??m)}i=xe(r,t,h=>function(d,m){if(Zs(m[0])){let S={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?m[1]||0:void 0,args:m},w=m[0];m[0]=function(){try{return w.apply(this,arguments)}finally{let{handle:M,handleId:Z,isPeriodic:W,isRefreshable:j}=S;!W&&!j&&(Z?delete o[Z]:M&&(M[mn]=null))}};let E=kr(t,m[0],S,a,l);if(!E)return E;let{handleId:A,handle:z,isRefreshable:V,isPeriodic:C}=E.data;if(A)o[A]=E;else if(z&&(z[mn]=E,V&&!C)){let T=z.refresh;z.refresh=function(){let{zone:M,state:Z}=E;return Z==="notScheduled"?(E._state="scheduled",M._updateTaskCount(E,1)):Z==="running"&&(E._state="scheduling"),T.call(this)}}return z??A??E}else return h.apply(r,m)}),s=xe(r,e,h=>function(d,m){let S=m[0],w;Gs(S)?(w=o[S],delete o[S]):(w=S?.[mn],w?S[mn]=null:w=S),w?.type?w.cancelFn&&w.zone.cancelTask(w):h.apply(r,m)})}function Ra(r,t){let{isBrowser:e,isMix:n}=t.getGlobalObjects();if(!e&&!n||!r.customElements||!("customElements"in r))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,r.customElements,"customElements","define",i)}function Oa(r,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:e,zoneSymbolEventNames:n,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=t.getGlobalObjects();for(let l=0;l<e.length;l++){let h=e[l],d=h+s,m=h+i,S=o+d,w=o+m;n[h]={},n[h][s]=S,n[h][i]=w}let a=r.EventTarget;if(!(!a||!a.prototype))return t.patchEventTarget(r,t,[a&&a.prototype]),!0}function Ia(r,t){t.patchEventPrototype(r,t)}function io(r,t,e){if(!e||e.length===0)return t;let n=e.filter(s=>s.target===r);if(n.length===0)return t;let i=n[0].ignoreProperties;return t.filter(s=>i.indexOf(s)===-1)}function $s(r,t,e,n){if(!r)return;let i=io(r,t,e);Xs(r,i,n)}function Tr(r){return Object.getOwnPropertyNames(r).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function Fa(r,t){if(yn&&!Ys||Zone[r.symbol("patchEvents")])return;let e=t.__Zone_ignore_on_properties,n=[];if(Pr){let i=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let s=[];$s(i,Tr(i),e&&e.concat(s),Sr(i))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<n.length;i++){let s=t[n[i]];s?.prototype&&$s(s.prototype,Tr(s.prototype),e)}}function xa(r){r.__load_patch("legacy",t=>{let e=t[r.__symbol__("legacyPatch")];e&&e()}),r.__load_patch("timers",t=>{let e="set",n="clear";ht(t,e,n,"Timeout"),ht(t,e,n,"Interval"),ht(t,e,n,"Immediate")}),r.__load_patch("requestAnimationFrame",t=>{ht(t,"request","cancel","AnimationFrame"),ht(t,"mozRequest","mozCancel","AnimationFrame"),ht(t,"webkitRequest","webkitCancel","AnimationFrame")}),r.__load_patch("blocking",(t,e)=>{let n=["alert","prompt","confirm"];for(let i=0;i<n.length;i++){let s=n[i];xe(t,s,(o,a,l)=>function(h,d){return e.current.run(o,t,d,l)})}}),r.__load_patch("EventTarget",(t,e,n)=>{Ia(t,n),Oa(t,n);let i=t.XMLHttpRequestEventTarget;i&&i.prototype&&n.patchEventTarget(t,n,[i.prototype])}),r.__load_patch("MutationObserver",(t,e,n)=>{kt("MutationObserver"),kt("WebKitMutationObserver")}),r.__load_patch("IntersectionObserver",(t,e,n)=>{kt("IntersectionObserver")}),r.__load_patch("FileReader",(t,e,n)=>{kt("FileReader")}),r.__load_patch("on_property",(t,e,n)=>{Fa(n,t)}),r.__load_patch("customElements",(t,e,n)=>{Ra(t,n)}),r.__load_patch("XHR",(t,e)=>{h(t);let n=J("xhrTask"),i=J("xhrSync"),s=J("xhrListener"),o=J("xhrScheduled"),a=J("xhrURL"),l=J("xhrErrorBeforeScheduled");function h(d){let m=d.XMLHttpRequest;if(!m)return;let S=m.prototype;function w(R){return R[n]}let E=S[yr],A=S[_r];if(!E){let R=d.XMLHttpRequestEventTarget;if(R){let P=R.prototype;E=P[yr],A=P[_r]}}let z="readystatechange",V="scheduled";function C(R){let P=R.data,I=P.target;I[o]=!1,I[l]=!1;let ae=I[s];E||(E=I[yr],A=I[_r]),ae&&A.call(I,z,ae);let ie=I[s]=()=>{if(I.readyState===I.DONE)if(!P.aborted&&I[o]&&R.state===V){let p=I[e.__symbol__("loadfalse")];if(I.status!==0&&p&&p.length>0){let c=R.invoke;R.invoke=function(){let u=I[e.__symbol__("loadfalse")];for(let b=0;b<u.length;b++)u[b]===R&&u.splice(b,1);!P.aborted&&R.state===V&&c.call(R)},p.push(R)}else R.invoke()}else!P.aborted&&I[o]===!1&&(I[l]=!0)};return E.call(I,z,ie),I[n]||(I[n]=R),Q.apply(I,P.args),I[o]=!0,R}function T(){}function M(R){let P=R.data;return P.aborted=!0,O.apply(P.target,P.args)}let Z=xe(S,"open",()=>function(R,P){return R[i]=P[2]==!1,R[a]=P[1],Z.apply(R,P)}),W="XMLHttpRequest.send",j=J("fetchTaskAborting"),k=J("fetchTaskScheduling"),Q=xe(S,"send",()=>function(R,P){if(e.current[k]===!0||R[i])return Q.apply(R,P);{let I={target:R,url:R[a],isPeriodic:!1,args:P,aborted:!1},ae=kr(W,T,I,C,M);R&&R[l]===!0&&!I.aborted&&ae.state===V&&ae.invoke()}}),O=xe(S,"abort",()=>function(R,P){let I=w(R);if(I&&typeof I.type=="string"){if(I.cancelFn==null||I.data&&I.data.aborted)return;I.zone.cancelTask(I)}else if(e.current[j]===!0)return O.apply(R,P)})}}),r.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&Ca(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),r.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(i){return function(s){ro(t,i).forEach(a=>{let l=t.PromiseRejectionEvent;if(l){let h=new l(i,{promise:s.promise,reason:s.rejection});a.invoke(h)}})}}t.PromiseRejectionEvent&&(e[J("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[J("rejectionHandledHandler")]=n("rejectionhandled"))}),r.__load_patch("queueMicrotask",(t,e,n)=>{Ma(t,n)})}function ja(r){r.__load_patch("ZoneAwarePromise",(t,e,n)=>{let i=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function o(_){if(_&&_.toString===Object.prototype.toString){let y=_.constructor&&_.constructor.name;return(y||"")+": "+JSON.stringify(_)}return _?_.toString():Object.prototype.toString.call(_)}let a=n.symbol,l=[],h=t[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,d=a("Promise"),m=a("then"),S="__creationTrace__";n.onUnhandledError=_=>{if(n.showUncaughtError()){let y=_&&_.rejection;y?console.error("Unhandled Promise rejection:",y instanceof Error?y.message:y,"; Zone:",_.zone.name,"; Task:",_.task&&_.task.source,"; Value:",y,y instanceof Error?y.stack:void 0):console.error(_)}},n.microtaskDrainDone=()=>{for(;l.length;){let _=l.shift();try{_.zone.runGuarded(()=>{throw _.throwOriginal?_.rejection:_})}catch(y){E(y)}}};let w=a("unhandledPromiseRejectionHandler");function E(_){n.onUnhandledError(_);try{let y=e[w];typeof y=="function"&&y.call(this,_)}catch{}}function A(_){return _&&typeof _.then=="function"}function z(_){return _}function V(_){return x.reject(_)}let C=a("state"),T=a("value"),M=a("finally"),Z=a("parentPromiseValue"),W=a("parentPromiseState"),j="Promise.then",k=null,Q=!0,O=!1,R=0;function P(_,y){return f=>{try{g(_,y,f)}catch(v){g(_,!1,v)}}}let I=function(){let _=!1;return function(f){return function(){_||(_=!0,f.apply(null,arguments))}}},ae="Promise resolved with itself",ie=a("currentTaskTrace");function g(_,y,f){let v=I();if(_===f)throw new TypeError(ae);if(_[C]===k){let L=null;try{(typeof f=="object"||typeof f=="function")&&(L=f&&f.then)}catch(F){return v(()=>{g(_,!1,F)})(),_}if(y!==O&&f instanceof x&&f.hasOwnProperty(C)&&f.hasOwnProperty(T)&&f[C]!==k)c(f),g(_,f[C],f[T]);else if(y!==O&&typeof L=="function")try{L.call(f,v(P(_,y)),v(P(_,!1)))}catch(F){v(()=>{g(_,!1,F)})()}else{_[C]=y;let F=_[T];if(_[T]=f,_[M]===M&&y===Q&&(_[C]=_[W],_[T]=_[Z]),y===O&&f instanceof Error){let D=e.currentTask&&e.currentTask.data&&e.currentTask.data[S];D&&s(f,ie,{configurable:!0,enumerable:!1,writable:!0,value:D})}for(let D=0;D<F.length;)u(_,F[D++],F[D++],F[D++],F[D++]);if(F.length==0&&y==O){_[C]=R;let D=f;try{throw new Error("Uncaught (in promise): "+o(f)+(f&&f.stack?`
`+f.stack:""))}catch(B){D=B}h&&(D.throwOriginal=!0),D.rejection=f,D.promise=_,D.zone=e.current,D.task=e.currentTask,l.push(D),n.scheduleMicroTask()}}}return _}let p=a("rejectionHandledHandler");function c(_){if(_[C]===R){try{let y=e[p];y&&typeof y=="function"&&y.call(this,{rejection:_[T],promise:_})}catch{}_[C]=O;for(let y=0;y<l.length;y++)_===l[y].promise&&l.splice(y,1)}}function u(_,y,f,v,L){c(_);let F=_[C],D=F?typeof v=="function"?v:z:typeof L=="function"?L:V;y.scheduleMicroTask(j,()=>{try{let B=_[T],H=!!f&&M===f[M];H&&(f[Z]=B,f[W]=F);let K=y.run(D,void 0,H&&D!==V&&D!==z?[]:[B]);g(f,!0,K)}catch(B){g(f,!1,B)}},f)}let b="function ZoneAwarePromise() { [native code] }",N=function(){},U=t.AggregateError;class x{static toString(){return b}static resolve(y){return y instanceof x?y:g(new this(null),Q,y)}static reject(y){return g(new this(null),O,y)}static withResolvers(){let y={};return y.promise=new x((f,v)=>{y.resolve=f,y.reject=v}),y}static any(y){if(!y||typeof y[Symbol.iterator]!="function")return Promise.reject(new U([],"All promises were rejected"));let f=[],v=0;try{for(let D of y)v++,f.push(x.resolve(D))}catch{return Promise.reject(new U([],"All promises were rejected"))}if(v===0)return Promise.reject(new U([],"All promises were rejected"));let L=!1,F=[];return new x((D,B)=>{for(let H=0;H<f.length;H++)f[H].then(K=>{L||(L=!0,D(K))},K=>{F.push(K),v--,v===0&&(L=!0,B(new U(F,"All promises were rejected")))})})}static race(y){let f,v,L=new this((B,H)=>{f=B,v=H});function F(B){f(B)}function D(B){v(B)}for(let B of y)A(B)||(B=this.resolve(B)),B.then(F,D);return L}static all(y){return x.allWithCallback(y)}static allSettled(y){return(this&&this.prototype instanceof x?this:x).allWithCallback(y,{thenCallback:v=>({status:"fulfilled",value:v}),errorCallback:v=>({status:"rejected",reason:v})})}static allWithCallback(y,f){let v,L,F=new this((K,ne)=>{v=K,L=ne}),D=2,B=0,H=[];for(let K of y){A(K)||(K=this.resolve(K));let ne=B;try{K.then(re=>{H[ne]=f?f.thenCallback(re):re,D--,D===0&&v(H)},re=>{f?(H[ne]=f.errorCallback(re),D--,D===0&&v(H)):L(re)})}catch(re){L(re)}D++,B++}return D-=2,D===0&&v(H),F}constructor(y){let f=this;if(!(f instanceof x))throw new Error("Must be an instanceof Promise.");f[C]=k,f[T]=[];try{let v=I();y&&y(v(P(f,Q)),v(P(f,O)))}catch(v){g(f,!1,v)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return x}then(y,f){let v=this.constructor?.[Symbol.species];(!v||typeof v!="function")&&(v=this.constructor||x);let L=new v(N),F=e.current;return this[C]==k?this[T].push(F,L,y,f):u(this,F,L,y,f),L}catch(y){return this.then(null,y)}finally(y){let f=this.constructor?.[Symbol.species];(!f||typeof f!="function")&&(f=x);let v=new f(N);v[M]=M;let L=e.current;return this[C]==k?this[T].push(L,v,y,y):u(this,L,v,y,y),v}}x.resolve=x.resolve,x.reject=x.reject,x.race=x.race,x.all=x.all;let Y=t[d]=t.Promise;t.Promise=x;let me=a("thenPatched");function Te(_){let y=_.prototype,f=i(y,"then");if(f&&(f.writable===!1||!f.configurable))return;let v=y.then;y[m]=v,_.prototype.then=function(L,F){return new x((B,H)=>{v.call(this,B,H)}).then(L,F)},_[me]=!0}n.patchThen=Te;function ee(_){return function(y,f){let v=_.apply(y,f);if(v instanceof x)return v;let L=v.constructor;return L[me]||Te(L),v}}return Y&&(Te(Y),xe(t,"fetch",_=>ee(_))),Promise[e.__symbol__("uncaughtPromiseErrors")]=l,x})}function za(r){r.__load_patch("toString",t=>{let e=Function.prototype.toString,n=J("OriginalDelegate"),i=J("Promise"),s=J("Error"),o=function(){if(typeof this=="function"){let d=this[n];if(d)return typeof d=="function"?e.call(d):Object.prototype.toString.call(d);if(this===Promise){let m=t[i];if(m)return e.call(m)}if(this===Error){let m=t[s];if(m)return e.call(m)}}return e.call(this)};o[n]=e,Function.prototype.toString=o;let a=Object.prototype.toString,l="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?l:a.call(this)}})}function Va(r,t,e,n,i){let s=Zone.__symbol__(n);if(t[s])return;let o=t[s]=t[n];t[n]=function(a,l,h){return l&&l.prototype&&i.forEach(function(d){let m=`${e}.${n}::`+d,S=l.prototype;try{if(S.hasOwnProperty(d)){let w=r.ObjectGetOwnPropertyDescriptor(S,d);w&&w.value?(w.value=r.wrapWithCurrentZone(w.value,m),r._redefineProperty(l.prototype,d,w)):S[d]&&(S[d]=r.wrapWithCurrentZone(S[d],m))}else S[d]&&(S[d]=r.wrapWithCurrentZone(S[d],m))}catch{}}),o.call(t,a,l,h)},r.attachOriginToPatched(t[n],o)}function Ba(r){r.__load_patch("util",(t,e,n)=>{let i=Tr(t);n.patchOnProperties=Xs,n.patchMethod=xe,n.bindArguments=Ar,n.patchMacroTask=Aa;let s=e.__symbol__("BLACK_LISTED_EVENTS"),o=e.__symbol__("UNPATCHED_EVENTS");t[o]&&(t[s]=t[o]),t[s]&&(e[s]=e[o]=t[s]),n.patchEventPrototype=La,n.patchEventTarget=Da,n.isIEOrEdge=Pa,n.ObjectDefineProperty=Er,n.ObjectGetOwnPropertyDescriptor=At,n.ObjectCreate=Sa,n.ArraySlice=ba,n.patchClass=kt,n.wrapWithCurrentZone=Cr,n.filterProperties=io,n.attachOriginToPatched=je,n._redefineProperty=Object.defineProperty,n.patchCallbacks=Va,n.getGlobalObjects=()=>({globalSources:Js,zoneSymbolEventNames:ve,eventNames:i,isBrowser:Pr,isMix:Ys,isNode:yn,TRUE_STR:Ie,FALSE_STR:Fe,ZONE_SYMBOL_PREFIX:Pt,ADD_EVENT_LISTENER_STR:br,REMOVE_EVENT_LISTENER_STR:wr})})}function Ha(r){ja(r),za(r),Ba(r)}var so=Ea();Ha(so);xa(so);ni(dn,Vs).catch(r=>console.error(r));
